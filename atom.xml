<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>阿木隆</title>
  <subtitle>北风骤起，艳阳高照</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://106.15.95.246/"/>
  <updated>2017-07-06T06:35:04.065Z</updated>
  <id>http://106.15.95.246/</id>
  
  <author>
    <name>阿木隆</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>CSS兼容性总结</title>
    <link href="http://106.15.95.246/2017/07/06/CSS%E5%85%BC%E5%AE%B9%E6%80%A7%E6%80%BB%E7%BB%93/"/>
    <id>http://106.15.95.246/2017/07/06/CSS兼容性总结/</id>
    <published>2017-07-06T06:12:55.000Z</published>
    <updated>2017-07-06T06:35:04.065Z</updated>
    
    <content type="html"><![CDATA[<p>浏览器的兼容性问题，通常是因为不同的浏览器对同一段代码有不同的解析，造成页面显示不统一的情况。<br>这里谈到的浏览器，主要指IE6/IE7/IE… FireFox Chrome Opera Safari 等。 但更多的兼容还是考虑IE6/IE7/FF之间的斗争<br><a id="more"></a></p>
<h4 id="CSS-Hack"><a href="#CSS-Hack" class="headerlink" title="CSS Hack"></a>CSS Hack</h4><p>为了让页面形成统一的效果，要针对不同的浏览器或不同版本写出对应可解析的CSS样式，所以我们就把这个针对不同浏览器/版本而写CSS的过程叫做 CSS hack.<br>CSS hack主要有三种：IE条件注释法、CSS属性前缀法、选择器前缀法。</p>
<p>（1）IE条件注释法，即在正常代码之外添加判别IE浏览器或对应版本的条件注释，符合条件的浏览器或者版本号才回执行里边的代码。</p>
<pre><code>&lt;!--  lt是小于 gt是大于 lte是小于等于 gte是不小于 !是不等于 --&gt;

&lt;!-- [if IE]&gt;
   你想要执行的代码 
&lt;![endif]--&gt;
&lt;!-- [if lt IE 8]&gt;
   你想要执行的代码 
&lt;![endif]--&gt;
&lt;!-- [if ! IE 8]&gt;
   你想要执行的代码 
&lt;![endif]--&gt;
</code></pre><p>（2）CSS属性前缀法，即是给css的属性添加前缀。</p>
<pre><code>* 可以被IE6/IE7识别，但 _ 只能被IE6识别，
IE6-IE10都可以识别 &quot;\9&quot;
IE6不能识别!important  
FireFox不能识别 * _  \9
可以先使用“\9&quot;标记，将IE分离出来
再用”*&quot;分离出IE6/IE7
最后可以用“_”分离出IE6
“_″是IE6专有的hack
“\9″ IE6/IE7/IE8/IE9/IE10都生效
“\0″ IE8/IE9/IE10都生效，是IE8/9/10的hack
“\9\0″ 只对IE9/IE10生效，是IE9/10的hack

.type{
    color: #111; /* all */
    color: #222\9; /* IE */
    *color: #333; /* IE6/IE7 */
    _color: #444; /* IE6 */
    }
</code></pre><p>（3）选择器前缀法，就是给选择器加上前缀。</p>
<pre><code>IE6可识别 *div{color:red;}  
IE7可识别 *+div{color:red;}
@media screen\9{...}只对IE6/7生效    
@media \0screen {body { background: red; }}只对IE8有效    
@media \0screen\,screen\9{body { background: blue; }}只对IE6/7/8有效    
@media screen\0 {body { background: green; }} 只对IE8/9/10有效    
@media screen and (min-width:0\0) {body { background: gray; }} 只对IE9/10有效
@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {body { background: orange; }} 只对IE10有效 等等
</code></pre><h4 id="兼容性问题"><a href="#兼容性问题" class="headerlink" title="兼容性问题"></a>兼容性问题</h4><p>（1）浏览器对标签的默认支持不同，要进行CSS reset 。</p>
<pre><code>body, h1, h2, h3, h4, h5, h6, hr, p, blockquote, dl, dt, dd, ul, ol, li, pre, form, fieldset, legend, button, input, textarea, th, td { margin:0; padding:0; }
    body, button, input, select, textarea { font:12px/1.5tahoma, arial, \5b8b\4f53; }
    h1, h2, h3, h4, h5, h6{ font-size:100%; }
    address, cite, dfn, em, var { font-style:normal; }
    code, kbd, pre, samp { font-family:couriernew, courier, monospace; }
    small{ font-size:12px; }
    ul, ol { list-style:none; }
    a { text-decoration:none; }
    a:hover { text-decoration:underline; }
    sup { vertical-align:text-top; }
    sub{ vertical-align:text-bottom; }
    legend { color:#000; }
    fieldset, img { border:0; }
    button, input, select, textarea { font-size:100%; }
    table { border-collapse:collapse; border-spacing:0; }
</code></pre><p>（2）IE6双边距bug: 块属性标签添加了浮动float之后，若在浮动方向上也有margin值，则margin值会加倍。其实这种问题主要就是会把某些元素挤到了第二行</p>
<pre><code>&lt;style type=&quot;text/css&quot;&gt;
    html,body,div{ margin: 0;padding: 0;}
    .wrap{width: 200px; height: 200px; border: 1px solid #333;}
    .box{
        float: left;
         /* display:inline */ ;
         margin-left: 10px; 
         width: 80px; 
         height: 80px; 
         background-color: green;
     }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div class=&quot;wrap&quot;&gt;
    &lt;div class=&quot;box&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;box&quot;&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
&lt;/script&gt;
&lt;/body&gt;
</code></pre><p>解决的方式有两个：<br>1.给float元素添加display：inline 即可正常显示<br>2.就是hack处理了，对IE6进行 _margin-left:5px;</p>
<p>（3）跟上述差不多，也属于IE6双边距bug: 行内属性标签，为了设置宽高，我们经常就会设置成display：block; 这样一来就产生上述的问题。<br>解决办法也是添加display：inline; 但是这样一来我们就不能设置宽高了，所以呢需要再加个 display:table.<br>所以你设置display:block后，再添上display:inline和display:table   </p>
<p>（4）上下margin重合问题，相邻的两个div margin-left margin-right 不会重合，但相邻的margin-top margin-bottom会重合。</p>
<pre><code>.box1{width: 200px;height: 200px; border: 1px solid #333; }
    .mt{margin-top: 10px;}
    .mb{margin-bottom: 10px;}

&lt;div class=&quot;box1 mb&quot;&gt;&lt;/div&gt;
&lt;div class=&quot;box1 mt&quot;&gt;&lt;/div&gt;
</code></pre><p>（5）有些浏览器解析img标签也有不同，img是行内的，一般都会紧接着排放，但是在有些情况下还是会突然出现个间距，解决办法是给它来个浮动  float </p>
<p>（6）标签属性min-height是不兼容的，所以使用的时候也要稍微改改。这样吧：</p>
<pre><code>.box{min-height:100px;height:auto !important; height:100px; overflow:visible;}
</code></pre><p>（7）超链接访问过后 样式就混乱了，hover样式不出现了。其实主要是其CSS属性的排序问题。一般来说，最好按照这个顺序：L-V-H-A</p>
<pre><code>a:link{}  a:visited{}  a:hover{}  a:active{}
</code></pre><p>（8）chrome下默认会将小于12px的文本强制按照12px来解析。解决办法是给其添加属性：</p>
<pre><code>-webkit-text-size-adjust: none; 
</code></pre><p>（9）png24位的图片在IE6下面会出现背景，所以最好还是使用png8格式的</p>
<p>（10）因为存在两种盒子模式：IE盒子模式和W3C标准模式，所以对象的实际宽度也要注意。</p>
<p>IE/Opera：对象的实际宽度 = (margin-left) + width + (margin-right)<br>Firefox/Mozilla：对象的实际宽度= (margin-left) + (border-left-width) + (padding- left) + width + (padding-right) + (border-right-width) + (margin-right)</p>
<p>（11）鼠标的手势也有问题：FireFox的cursor属性不支持hand，但是支持pointer，IE两个都支持；所以为了兼容都用pointer</p>
<p>（12）有个说法是：FireFox无法解析简写的padding属性设置。</p>
<p>如padding 5px 4px 3px 1px；必须改为 padding-top:5px; padding-right:4px; padding-bottom:3px; padding-left:1px。但我试了一下，发现还是可以解析的，难道是版本的原因？</p>
<p>（13）消除ul、ol等列表的缩进时，样式应写成:list-style:none;margin:0px;padding:0px; 其中margin属性对IE有效，padding属性对FireFox有效</p>
<p>（14）CSS控制透明度问题：一般就直接 opacity: 0.6 ; IE就 filter: alpha(opacity=60) ; 在IE6下 filter:progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=60);</p>
<p>（15）有些时候图片下方会出现一条间隙，通常会出现在FF和IE6下面比如</p>
<div><img src="1.jpg"></div><br>一般给img添加vertical-align属性即可，比如top middle<br>img{verticle-align:center;}<br><br>（16）IE6下div高度无法小于10px ;比如定义一条高2px的线条，FF和IE7都正常;但IE6就是10px<br>解决的办法有两种：添加overflow属性或设置fontsize大小为高度大小  如：<br><div style="height:2px;overflow:hidden;background:#000000;width:778px;"></div><br><div style="height:2px;font-size:2px;background:#000000;width:778px;">&nbps;</div>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;浏览器的兼容性问题，通常是因为不同的浏览器对同一段代码有不同的解析，造成页面显示不统一的情况。&lt;br&gt;这里谈到的浏览器，主要指IE6/IE7/IE… FireFox Chrome Opera Safari 等。 但更多的兼容还是考虑IE6/IE7/FF之间的斗争&lt;br&gt;
    
    </summary>
    
      <category term="前端" scheme="http://106.15.95.246/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="css" scheme="http://106.15.95.246/tags/css/"/>
    
  </entry>
  
  <entry>
    <title>js基本功能大全</title>
    <link href="http://106.15.95.246/2017/07/05/js%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD%E5%A4%A7%E5%85%A8/"/>
    <id>http://106.15.95.246/2017/07/05/js基本功能大全/</id>
    <published>2017-07-05T13:54:04.000Z</published>
    <updated>2017-07-05T15:01:58.740Z</updated>
    
    <content type="html"><![CDATA[<p>基本类型与引用类型的区别<br>1.基本类型： string,number,boolean,null,undefined;操作和保存在变量的实际的值。<br>2.引用类型： Function,Array,Object;值保存在内存中，js不允许直接访问内存，在操作的时候，操作的是对象的引用。</p>
<a id="more"></a>
<h4 id="1-javascript的数组API"><a href="#1-javascript的数组API" class="headerlink" title="1.javascript的数组API"></a>1.javascript的数组API</h4><pre><code>//定义数组 
var arr = new Array();  

//数组长度 
pageIds.length; 

//shift：删除原数组第一项，并返回删除元素的值；如果数组为空则返回undefined 
var a = [1,2,3,4,5]; 
var b = a.shift(); //a：[2,3,4,5] b：1 

//unshift：将参数添加到原数组开头，并返回数组的长度 
//注：在IE6.0下测试返回值总为undefined，FF2.0下测试返回值为7，
//所以这个方法的返回值不可靠，需要用返回值时可用splice代替本方法来使用。
var a = [1,2,3,4,5]; 
var b = a.unshift(-2,-1); //a：[-2,-1,1,2,3,4,5] b：7 

//pop：删除原数组最后一项，并返回删除元素的值；如果数组为空则返回undefined 
var a = [1,2,3,4,5]; 
var b = a.pop(); //a：[1,2,3,4] b：5 

//push：将参数添加到原数组末尾，并返回数组的长度 
var a = [1,2,3,4,5]; 
var b = a.push(6,7); //a：[1,2,3,4,5,6,7] b：7 

//concat：返回一个新数组，是将参数添加到原数组中构成的 
var a = [1,2,3,4,5]; 
var b = a.concat(6,7); //a：[1,2,3,4,5] b：[1,2,3,4,5,6,7] 

//splice(start,deleteCount,val1,val2,)：从start位置开始删除deleteCount项，从该位置起插入val1,val2, 
var a = [1,2,3,4,5]; 
var b = a.splice(2,2,7,8,9); //a：[1,2,7,8,9,5] b：[3,4] 
var b = a.splice(0,1); //同shift 
a.splice(0,0,-2,-1); var b = a.length; //同unshift 
var b = a.splice(a.length-1,1); //同pop 
a.splice(a.length,0,6,7); var b = a.length; //同push 

//reverse：将数组反序 
var a = [1,2,3,4,5]; 
var b = a.reverse(); //a：[5,4,3,2,1] b：[5,4,3,2,1] 

//sort(orderfunction)：按指定的参数对数组进行排序 
var a = [1,2,3,4,5]; 
var b = a.sort(); //a：[1,2,3,4,5] b：[1,2,3,4,5] 

//slice(start,end)：返回从原数组中指定开始下标到结束下标之间的项组成的新数组 
var a = [1,2,3,4,5]; 
var b = a.slice(2,5); //a：[1,2,3,4,5] b：[3,4,5] 

//join(separator)：将数组的元素组起一个字符串，以separator为分隔符，省略的话则用默认用逗号为分隔符 
var a = [1,2,3,4,5]; 
var b = a.join(&quot;|&quot;); //a：[1,2,3,4,5] b：&quot;1|2|3|4|5&quot; 
</code></pre><h4 id="2-dom最常用API"><a href="#2-dom最常用API" class="headerlink" title="2.dom最常用API"></a>2.dom最常用API</h4><pre><code>//document方法： 
getElementById(id) Node 返回指定节点的引用 
getElementsByTagName(name) NodeList 返回文档中所有匹配的元素的集合 
createElement(name) Node 创建一个元素节点
createTextNode(text) 创建一个纯文本结点 
ownerDocument Document 指向这个节点所属的文档 
documentElement Node 返回html节点 
document.body Node 返回body节点 

//element方法： 
getAttribute(attributeName) String 返回指定属性的值 
setAttribute(attributeName,value) String 给属性赋值 
removeAttribute(attributeName) String 移除指定属性和它的值 

//node方法： 
appendChild(child) Node 给指定结点添加一个新的子结点 
removeChild(child) Node 移除指定结点的子结点 
replaceChild(newChild,oldChild) Node 替换指定结点的子结点 
insertBefore(newChild,refChild) Node 在同一层级的结点前面插入新结点 
hasChildNodes() Boolean 如果结点有子结点则返回true 

//node属性： 
nodeName String 以字符串的格式存放结点的名称 
nodeType String 以整型数据格式存放结点的类型 
nodeValue String 以可用的格式存放结点的值 
parentNode Node 指向结点的父结点的引用 
childNodes NodeList 指向子结点的引用的集合 
firstChild Node 指向子结点结合中的第一个子结点的引用 
lastChild Node 指向子结点结合中的最后一个子结点的引用 
previousSibling Node 指向前一个兄弟节点；如果这个节点就是兄弟节点，那么该值为null 
nextSibling Node 指向后一个兄弟节点；如果这个节点就是兄弟节点，那么该值为null
</code></pre><h4 id="3-创建一个map对象"><a href="#3-创建一个map对象" class="headerlink" title="3.创建一个map对象:"></a>3.创建一个map对象:</h4><pre><code>function HashMap() { 
    /** Map 大小 **/ 
    var size = 0; 
    /** 对象 **/ 
    var entry = new Object(); 
    /** 存 **/ 
    this.put = function (key , value) { 
        if(!this.containsKey(key)) { 
            size ++ ; 
        } 
        entry[key] = value; 
    } 
    /** 取 **/ 
    this.get = function (key) { 
        return this.containsKey(key) ? entry[key] : null; 
    } 
    /** 删除 **/ 
    this.remove = function ( key ) { 
        if( this.containsKey(key) &amp;&amp; ( delete entry[key] ) ) { 
            size --; 
        } 
    } 
    /** 是否包含 Key **/ 
    this.containsKey = function ( key ) { 
        return (key in entry); 
    } 
    /** 是否包含 Value **/ 
    this.containsValue = function ( value )     { 
        for(var prop in entry)  { 
            if(entry[prop] == value)    { 
                return true; 
            } 
        } 
        return false; 
    } 
    /** 所有 Value **/ 
    this.values = function () { 
        var values = new Array(); 
        for(var prop in entry) { 
            values.push(entry[prop]); 
        } 
        return values; 
    } 
    /** 所有 Key **/ 
    this.keys = function () { 
        var keys = new Array(); 
        for(var prop in entry) { 
            keys.push(prop); 
        } 
        return keys;   
    } 
    /** Map Size **/ 
    this.size = function () { 
        return size; 
    } 
    /* 清空 */ 
    this.clear = function () { 
        size = 0; 
        entry = new Object(); 
    } 
} 
var map = new HashMap(); 
/* 
    map.put(&quot;A&quot;,&quot;1&quot;); 
    map.put(&quot;B&quot;,&quot;2&quot;); 
    map.put(&quot;A&quot;,&quot;5&quot;); 
*/ 
/* 
    alert(map.containsKey(&quot;XX&quot;)); 
    alert(map.size()); 
    alert(map.get(&quot;A&quot;)); 
    alert(map.get(&quot;XX&quot;)); 
    map.remove(&quot;A&quot;); 
    alert(map.size()); 
    alert(map.get(&quot;A&quot;)); 
*/ 
/** 同时也可以把对象作为 Key **/ 
/* 
    var arrayKey = new Array(&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;); 
    var arrayValue = new Array(&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;); 
    map.put(arrayKey,arrayValue); 
    var value = map.get(arrayKey); 
    for(var i = 0 ; i &lt; value.length ; i++) { 
        //alert(value[i]); 
    } 
*/ 
/** 把对象做为Key时，自动调用了该对象的toString()方法其实最终还是以String对象为Key**/ 
/** 如果是自定义对象 那自己得重写 toString() 方法 否则就是下面的结果 **/ 
function MyObject(name){ 
    this.name = name; 
} 
/** 
function MyObject(name) { 
    this.name = name; 
    this.toString = function () { 
        return this.name; 
    } 
} 
**/ 
var object1 = new MyObject(&quot;小张&quot;); 
var object2 = new MyObject(&quot;小名&quot;); 
map.put(object1,&quot;小张&quot;); 
map.put(object2,&quot;小名&quot;); 
alert(map.get(object1)); 
alert(map.get(object2)); 
map.remove(&quot;xxxxx&quot;); 
alert(map.size()); 
/** 运行结果 小名 小名 size = 1 **/ 
/** 如果改成复写toString()方法的对象 , 效果就完全不一样了 **/ 
</code></pre><h4 id="4-常用的数字函数"><a href="#4-常用的数字函数" class="headerlink" title="4.常用的数字函数:"></a>4.常用的数字函数:</h4><pre><code>//数字型(Number) 
//1.声明 
var i = 1; 
var i = new Number(1); 

//2.字符串与数字间的转换 
var i = 1; 
var str = i.toString(); //结果: &quot;1&quot; 
var str = new String(i); //结果: &quot;1&quot; 
i = parseInt(str); //结果: 1 
i = parseFloat(str); //结果: 1.0 
//注意: parseInt,parseFloat会把一个类似于&quot;32G&quot;的字符串,强制转换成32 

//3.判断是否为有效的数字 
var i = 123; var str = &quot;string&quot;; 
if( typeof i == &quot;number&quot; ){ } //true 
//某些方法(如:parseInt,parseFloat)会返回一个特殊的值NaN(Not a Number) 
//请注意第2点中的[注意],此方法不完全适合判断一个字符串是否是数字型!! 
i = parseInt(str); 
if( isNaN(i) ){ } 

//4.数字型比较 
//此知识与[字符串比较]相同 

///5.小数转整数 
var f = 1.5; 
var i = Math.round(f); //结果:2 (四舍五入) 
var i = Math.ceil(f); //结果:2 (返回大于f的最小整数) 
var i = Math.floor(f); //结果:1 (返回小于f的最大整数) 

//6.格式化显示数字 
var i = 3.14159; 
//格式化为两位小数的浮点数 
var str = i.toFixed(2); //结果: &quot;3.14&quot; 
//格式化为五位数字的浮点数(从左到右五位数字,不够补零) 
var str = i.toPrecision(5); //结果: &quot;3.1415&quot; 

//7.X进制数字的转换 
var i = parseInt(&quot;0x1f&quot;,16); 
var i = parseInt(i,10); 
var i = parseInt(&quot;11010011&quot;,2); 

//8.随机数 
//返回0-1之间的任意小数 
var rnd = Math.random(); 
//返回0-n之间的任意整数(不包括n) 
var rnd = Math.floor(Math.random() * n) 
</code></pre><h4 id="5-js堆栈"><a href="#5-js堆栈" class="headerlink" title="5.js堆栈:"></a>5.js堆栈:</h4><pre><code>function stack(){ 
    if(this.top==undefined){ 
        //初始化堆栈的顶部指针和数据存放域 
        this.top=0; 
        this.unit=new Array(); 
    } 
    this.push=function(pushvalue){ 
        //定义压入堆栈的方法 
        this.unit[this.top]=pushvalue; 
        this.top+=1; 
    } 
    this.readAllElements=function(){ 
        //定义读取所有数据的方法 
        if(this.top==0){ 
            alert(&quot;当前栈空，无法读取数据&quot;); 
            return(&quot;&quot;); 
        } 
        var count=0; 
        var outStr=&quot;&quot;; 
        for(count=0;count&lt;this.top;count++){ 
            outStr+=this.unit[count]+&quot;,&quot;; 
        } 
        return(outStr); 
    } 
    this.pop=function(){ 
        //定义弹出堆栈的方法 
        if(this.top==0){ 
            alert(&quot;当前栈空，无法弹出数据&quot;); 
            return(&quot;&quot;); 
        } 
        var popTo=this.unit[this.top-1]; 
        this.top--; 
        return(popTo); 
    /* 从堆栈弹出数据，顶部指针减一，不过这里没有做到资源的释放，也 
    就是说数据仍然存在于this.unit的数组中，只不过无法访问罢了。目前 
    我也没想到好的办法解决。*/ 
    } 
} 
</code></pre><h4 id="6-JavaScript日期函数"><a href="#6-JavaScript日期函数" class="headerlink" title="6.JavaScript日期函数:"></a>6.JavaScript日期函数:</h4><pre><code>//日期型(Date) 
//1.声明 
var myDate = new Date(); //系统当前时间 
var myDate = new Date(yyyy, mm, dd, hh, mm, ss); 
var myDate = new Date(yyyy, mm, dd); 
var myDate = new Date(&quot;monthName dd, yyyy hh:mm:ss&quot;); 
var myDate = new Date(&quot;monthName dd, yyyy&quot;); 
var myDate = new Date(epochMilliseconds); 

//2.获取时间的某部份 
var myDate = new Date(); 
myDate.getYear(); //获取当前年份(2位) 
myDate.getFullYear(); //获取完整的年份(4位,1970-????) 
myDate.getMonth(); //获取当前月份(0-11,0代表1月) 
myDate.getDate(); //获取当前日(1-31) 
myDate.getDay(); //获取当前星期X(0-6,0代表星期天) 
myDate.getTime(); //获取当前时间(从1970.1.1开始的毫秒数) 时间戳！！ 
myDate.getHours(); //获取当前小时数(0-23) 
myDate.getMinutes(); //获取当前分钟数(0-59) 
myDate.getSeconds(); //获取当前秒数(0-59) 
myDate.getMilliseconds(); //获取当前毫秒数(0-999) 
myDate.toLocaleDateString(); //获取当前日期 
myDate.toLocaleTimeString(); //获取当前时间 
myDate.toLocaleString( ); //获取日期与时间 

//3.计算之前或未来的时间 
var myDate = new Date(); 
myDate.setDate(myDate.getDate() + 10); //当前时间加10天 
//类似的方法都基本相同,以set开头,具体参考第2点 

//4.计算两个日期的偏移量 
var i = daysBetween(beginDate,endDate); //返回天数 
var i = beginDate.getTimezoneOffset(endDate); //返回分钟数 

//5.检查有效日期 
//checkDate() 只允许&quot;mm-dd-yyyy&quot;或&quot;mm/dd/yyyy&quot;两种格式的日期 
if( checkDate(&quot;2006-01-01&quot;) ){ } 
//正则表达式(自己写的检查 yyyy-mm-dd, yy-mm-dd, yyyy/mm/dd, yy/mm/dd 四种) 
var r = /^(\d{2}|\d{4})[\/-]\d{1,2}[\/-]\d{1,2}$/; 
if( r.test( myString ) ){ } 
</code></pre><h4 id="7-最常用字符串函数API"><a href="#7-最常用字符串函数API" class="headerlink" title="7.最常用字符串函数API:"></a>7.最常用字符串函数API:</h4><pre><code>//字符串(String) 
//1.声明 
var myString = new String(&quot;Every good boy does fine.&quot;); 
var myString = &quot;Every good boy does fine.&quot;; 

//2.字符串连接 
var myString = &quot;Every &quot; + &quot;good boy &quot; + &quot;does fine.&quot;; 
var myString = &quot;Every &quot;; myString += &quot;good boy does fine.&quot;; 

//3.截取字符串 
var myString = &quot;Every good boy does fine.&quot;; 
//截取第 6 位开始的字符 
var section = myString.substring(6); //结果: &quot;good boy does fine.&quot; 
//截取第 0 位开始至第 10 位为止的字符 
var section = myString.substring(0,10); //结果: &quot;Every good&quot; 
//截取从第 11 位到倒数第 6 位为止的字符 
var section = myString.slice(11,-6); //结果: &quot;boy does&quot; 
//从第 6 位开始截取长度为 4 的字符 
var section = myString.substr(6,4); //结果: &quot;good&quot; 

//4.转换大小写 
var myString = &quot;Hello&quot;; 
var lcString = myString.toLowerCase(); //结果: &quot;hello&quot; 
var ucString = myString.toUpperCase(); //结果: &quot;HELLO&quot; 

//5.字符串比较 
var aString = &quot;Hello!&quot;; 
var bString = new String(&quot;Hello!&quot;); 
if( aString == &quot;Hello!&quot; ){ } //结果: true 
if( aString == bString ){ } //结果: true 
if( aString === bString ){ } //结果: false (两个对象不同,尽管它们的值相同) 

//6.检索字符串 
var myString = &quot;hello everybody.&quot;; 
// 如果检索不到会返回-1,检索到的话返回在该串中的起始位置 
if( myString.indexOf(&quot;every&quot;) &gt; -1 ){ } //结果: true 

////7.查找替换字符串 
var myString = &quot;I is your father.&quot;; 
var result = myString.replace(&quot;is&quot;,&quot;am&quot;); //结果: &quot;I am your father.&quot; 

//8.特殊字符: 
//\b : 后退符 \t : 水平制表符 
//\n : 换行符 \v : 垂直制表符 
//\f : 分页符 \r : 回车符 
//\&quot; : 双引号 \&apos; : 单引号 
//\\ : 反斜杆 

//9.将字符转换成Unicode编码 
var myString = &quot;hello&quot;; 
var code = myString.charCodeAt(3); //返回&quot;l&quot;的Unicode编码(整型) 
var char = String.fromCharCode(66); //返回Unicode为66的字符 

//10.将字符串转换成URL编码 
var myString = &quot;hello all&quot;; 
var code = encodeURI(myString); //结果: &quot;hello%20all&quot; 
var str = decodeURI(code); //结果: &quot;hello all&quot; 
//相应的还有: encodeURIComponent() decodeURIComponent() 
</code></pre><h4 id="8-数学函数"><a href="#8-数学函数" class="headerlink" title="8.数学函数:"></a>8.数学函数:</h4><pre><code>//Math对象 
1. Math.abs(num) : 返回num的绝对值 
2. Math.acos(num) : 返回num的反余弦值 
3. Math.asin(num) : 返回num的反正弦值 
4. Math.atan(num) : 返回num的反正切值 
5. Math.atan2(y,x) : 返回y除以x的商的反正切值 
6. Math.ceil(num) : 返回大于num的最小整数 
7. Math.cos(num) : 返回num的余弦值 
8. Math.exp(x) : 返回以自然数为底,x次幂的数 
9. Math.floor(num) : 返回小于num的最大整数 
10.Math.log(num) : 返回num的自然对数 
11.Math.max(num1,num2) : 返回num1和num2中较大的一个 
12.Math.min(num1,num2) : 返回num1和num2中较小的一个 
13.Math.pow(x,y) : 返回x的y次方的值 
14.Math.random() : 返回0到1之间的一个随机数 
15.Math.round(num) : 返回num四舍五入后的值 
16.Math.sin(num) : 返回num的正弦值 
17.Math.sqrt(num) : 返回num的平方根 
18.Math.tan(num) : 返回num的正切值 
19.Math.E : 自然数(2.718281828459045) 
20.Math.LN2 : 2的自然对数(0.6931471805599453) 
21.Math.LN10 : 10的自然对数(2.302585092994046) 
22.Math.LOG2E : log 2 为底的自然数(1.4426950408889634) 
23.Math.LOG10E : log 10 为底的自然数(0.4342944819032518) 
24.Math.PI : π(3.141592653589793) 
25.Math.SQRT1_2 : 1/2的平方根(0.7071067811865476) 
26.Math.SQRT2 : 2的平方根(1.4142135623730951) 
</code></pre><h4 id="9-浏览器特征函数"><a href="#9-浏览器特征函数" class="headerlink" title="9.浏览器特征函数:"></a>9.浏览器特征函数:</h4><pre><code>//1.浏览器名称 
//IE : &quot;Microsoft Internet Explorer&quot; 
//NS : &quot;Netscape&quot; 
var browserName = navigator.appName; 

//2.浏览器版本 
var browserVersion = navigator.appVersion; 

//3.客户端操作系统 
var isWin = ( navigator.userAgent.indexOf(&quot;Win&quot;) != -1 ); 
var isMac = ( navigator.userAgent.indexOf(&quot;Mac&quot;) != -1 ); 
var isUnix = ( navigator.userAgent.indexOf(&quot;X11&quot;) != -1 ); 

//4.判断是否支持某对象,方法,属性 
//当一个对象,方法,属性未定义时会返回undefined或null等,这些特殊值都是false 
if( document.images ){ } 
if( document.getElementById ){ } 

//5.检查浏览器当前语言 
if( navigator.userLanguage ){ var l = navigator.userLanguage.toUpperCase(); } 

//6.检查浏览器是否支持Cookies 
if( navigator.cookieEnabled ){ } 
</code></pre><h4 id="10-JavaScript面向对象的方法实现继承-call方法"><a href="#10-JavaScript面向对象的方法实现继承-call方法" class="headerlink" title="10.JavaScript面向对象的方法实现继承:call方法"></a>10.JavaScript面向对象的方法实现继承:call方法</h4><pre><code>// 动物类 animal 
function animal(bSex){ 
    this.sex = bSex 
    this.getSex = function(){ 
        return this.sex 
    } 
} 
// 类静态变量 (如果你不修改它的话～～) 
animal.SEX_G = new Object(); // 雌性 
animal.SEX_B = new Object(); // 雄性 
// 动物子类 鸟 
function bird(bSex){ 
    animal.call(this, bSex); 
    this.fly = function(iSpeed){ 
        alert(&quot;飞行时速高达 &quot; + iSpeed); 
    } 
} 
// 动物子类 鱼 
function fish(bSex){ 
    animal.call(this, bSex); 
    this.swim = function(iSpeed){ 
        alert(&quot;游动时速高达 &quot; + iSpeed) 
    } 
} 
// 鱼 鸟 杂交品种。。。 
function crossBF(bSex){ 
    bird.call(this, bSex); 
    fish.call(this, bSex); 
} 
var oPet = new crossBF(animal.SEX_G); // 雌性 鱼鸟 
alert(oPet.getSex() == animal.SEX_G ? &quot;雌性&quot; : &quot;雄性&quot;); 
oPet.fly(124) 
oPet.swim(254) 
</code></pre><h4 id="11-用面向对象的编程方式写JavaScript"><a href="#11-用面向对象的编程方式写JavaScript" class="headerlink" title="11.用面向对象的编程方式写JavaScript:"></a>11.用面向对象的编程方式写JavaScript:</h4><pre><code>MyTool = new function(){ 
    /** 
    * 返回非空字符串,如果有默认值就返回默认字符串. 
    */ 
    this.notNull = function(str,defaultStr){ 
        if(typeof(str)==&quot;undefined&quot;||str==null||str==&apos;&apos;){ 
            if(defaultStr) {
                return defaultStr; 
            } else {
                return &apos;&apos;; 
            }
        } else{ 
            return str; 
        } 
    } 
} 
rootId = MyTool.notNull(rootId,&apos;001000&apos;); 
</code></pre><h4 id="12-常用的js方法-包括表单校验的一些方法-下拉菜单常用的方法等等"><a href="#12-常用的js方法-包括表单校验的一些方法-下拉菜单常用的方法等等" class="headerlink" title="12.常用的js方法,包括表单校验的一些方法,下拉菜单常用的方法等等:"></a>12.常用的js方法,包括表单校验的一些方法,下拉菜单常用的方法等等:</h4><pre><code>/** 
* 对JSON对象转换为字符串. 
* @param {json对象} json 
* @return {json字符串} 
*/ 
function jsonObj2Str(json) { 
    var str = &quot;{&quot;; 
    for (prop in json) { 
        str += prop + &quot;:&quot; + json[prop] + &quot;,&quot;; 
    } 
    str = str.substr(0, str.length - 1); 
    str += &quot;}&quot;; 
    return str; 
} 
/** 
* 将json字符串转换为json对象. 
* @param {json字符串} jsonstr 
* @return {json对象} 
*/ 
function jsonStr2Obj(jsonstr) { 
    return eval(&quot;(&quot;+jsonstr+&quot;)&quot;); 
} 
/** 
* 得到一个元素的left坐标值. 
* @param {dom对象} obj 
* @return {位置值} 
*/ 
function getLeft(obj){ 
    var offset=e.offsetLeft; 
    if(e.offsetParent!=null){
        offset+=getLeft(e.offsetParent); 
    } 
    return offset; 
} 
/** 
* 得到一个元素的绝对位置的top坐标值. 
* @param {dom对象} obj 
* @return {位置值} 
*/ 
function getTop(obj){ 
    var offset=e.offsetTop; 
    if(e.offsetParent!=null) {
        offset+=getTop(e.offsetParent); 
    }
    return offset; 
} 
/** 
* 删除一个字符串的左右空格. 
* @param {原始字符串} str 
* @return {删除空格之后的字符串} 
*/ 
function trim(str) { 
    return str.replace(/(^\s*)|(\s*$)/g,&quot;&quot;); 
} 
/** 
* 根据id取出一个元素. 
* @param {元素id值} str 
* @return {dom对象} 
*/ 
function $(str) { 
    return document.getElementById(str); 
} 
/** 
* 按name获取一个对象. 
* @param {元素name值} str 
* @return {根据name返回的第一个对象} 
*/ 
function $byName(str) { 
    var arr = document.getElementsByName(str); 
    if (arr) {
        return arr[0]; 
    }else {
        return null; 
    } 
} 
/***************以下方法和表单验证相关*************************************************/ 
/** 
* 返回非空字符串,如果有默认值就返回默认字符串. 
* @param {要进行转换的原字符串} str 
* @param {默认值} defaultStr 
* @return {返回结果} 
*/ 
function notNull(str, defaultStr) { 
    if (typeof(str) == &quot;undefined&quot; || str == null || str == &apos;&apos;) { 
        if (defaultStr) {
            return defaultStr; 
        }else{ 
            return &apos;&apos;;
        } 
    } else { 
        return str; 
    } 
} 
/** 
* 比较两个日期大小. 
* @param {较小日期的文本框id} smallDate 
* @param {较大日期的文本框id} bigDate 
* @param {出错的提示信息} msg 
*/ 
function compareTwoDate(smallDate, bigDate, msg) { 
    var v1 = $(smallDate).value; 
    var v2 = $(bigDate).value; 
    if (v1 &gt;= v2) { 
        alert(msg); 
        v2.focus(); 
        return false; 
    } 
    return true; 
} 
/** 
* 比较两个金额大小的方法. 
* @param {较小的金额} smallNum 
* @param {较大的金额} bigNum 
* @param {出错提示信息} msg 
* @return {Boolean} 
*/ 
function compareTwoNum(smallNum, bigNum, msg) { 
    var v1 = $(smallNum).value; 
    var v2 = $(bigNum).value; 
    if (parseFloat(v1) &gt;= parseFloat(v2)) { 
        alert(msg); 
        v2.focus(); 
        return false; 
    } 
    return true; 
} 
/** 
* 检查文本框的长度是否超出指定长度. 
* @param {文本id} textId 
* @param {文本框的最大长度} len 
* @param {文本框描述内容} msg 
* @return {有错就返回false,否则返回true} 
*/ 
function checkLength(textId, len, msg) { 
    obj = $(textId); 
    str = obj.value; 
    str = str.replace(/[^\x00-\xff]/g, &quot;**&quot;); 
    realLen = str.length; 
    if (realLen &gt; len) { 
        alert(&quot;[&quot; + msg + &quot;]&quot; + &quot;长度最大为&quot; + len + &quot;位,&quot; + &quot;请重新输入！\n注意：一个汉字占2位。&quot;); 
        obj.focus(); 
        return false; 
    } else {
        return true;
    }
} 
/** 
* 判断某个文本框不可以为空. 
* @param {文本框id} textId 
* @param {文本框描述内容} msg 
* @return {有错就返回false,否则返回true} 
*/ 
function checkIfEmpty(textId, msg) { 
    var textObj = $(textId); 
    var textValue = textObj.value; 
    if (trim(textValue) == &apos;&apos;) { 
        alert(&apos;[&apos; + msg + &apos;]不得为空！&apos;); 
        textObj.focus(); 
        return false; 
    } else { 
        return true; 
    } 
} 
/** 
* 判断指定文本框内容必须为邮件. 
* @param {文本框id} textId 
* @param {文本框描述} msg 
* @return {如果是邮件内容就返回true否则返回false} 
*/ 
function checkIsMail(textId, msg) { 
    var obj = $(textId); 
    if (!_isEmail(obj.value)) { 
        alert(&apos;[&apos; + msg + &apos;]不是合法的邮件地址！&apos;); 
        obj.focus(); 
        return false;   
    } else 
    return true; 
} 
/** 
* 验证是不是邮件. 
* @param {要验证的字符串} strEmail 
* @return {Boolean} 
*/ 
function _isEmail(strEmail) { 
    //接下来的验证是否有两个以上的‘.&apos;号，有的话就是错的！ 
    var first = strEmail.indexOf(&apos;.&apos;); 
    if (strEmail.indexOf(&apos;@&apos;)== -1) { 
        return false; 
    } 
    var tempStr = strEmail.substring(first + 1); 
    if (tempStr.indexOf(&apos;.&apos;) != -1) { 
        return false; 
    } 
    if (strEmail 
    .search(/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/) != -1) { 
        return true; 
    } else {
        return false;        
    }
} 
/** 
* 判断某个文本框是否数字. 
* @param {文本框id} textId 
* @param {文本框描述内容} msg 
* @return {Boolean} 
*/ 
function checkIsNum(textId, msg) { 
    obj = $(textId); 
    if (isNaN(obj.value)) { 
        alert(&apos;[&apos; + msg + &apos;]必须为数字。&apos;); 
        obj.focus(); 
        return false; 
    } else {
        return true;        
    }
} 
/** 
* 判断某个文本框是否含有非法字符. 
* @param {文本框的id} textId 
* @param {文本框描述内容} msg 
* @return {有错就返回false否则返回true} 
*/ 
function checkIsValid(textId, msg) { 
    obj = $(textId); 
    if (!_isValidString(obj.value, &apos;[&apos; + msg + &apos;]不得含有非法字符。&apos;)) { 
        obj.focus(); 
        return false; 
    } 
    return true; 
} 
/** 
* 判断是不是合法字符串. 
* @param {要进行判断的字符串} szStr 
* @param {文本描述} errMsg 
* @return {合法则返回true否则返回false} 
*/ 
function _isValidString(szStr,errMsg) { 
    voidChar = &quot;&apos;\&quot;&gt;&lt;`~!@#$%^&amp;\(\)（）！￥……？?“”‘&apos;*&quot;; 
    for (var i = 0; i &lt; voidChar.length; i++) { 
        aChar = voidChar.substring(i, i + 1); 
        if (szStr.indexOf(aChar) &gt; -1){ 
            alert(errMsg) 
            return false; 
        } 
    } 
    return true; 
} 
/*************** 以下方法和下拉菜单相关*************************************************/ 
/** 
* 控制下拉菜单不可以为-1(未选择情况value=-1) 
* @param {下拉菜单id} selectId 
* @param {下拉菜单描述内容} msg 
* @param {下拉菜单的空值对应的value,默认为-1} nullValue 
* @return {Boolean} 
*/ 
function checkChooseSelect(selectId, msg ,nullValue) { 
    var obj = $(selectId); 
    if (obj.value == notNull(nullValue,&apos;-1&apos;)) { 
        alert(&apos;[&apos; + msg + &apos;]必选!&apos;); 
        obj.focus(); 
        return false; 
    }
    return true; 
} 
/** 
* 得到下拉菜单的显示的文字. 
* @param {下拉菜单dom对象} selectObj 
* @return {返回下拉菜单的显示的&quot;文本&quot;} 
*/ 
function getSelectText(selectObj) { 
    return selectObj.options[selectObj.selectedIndex].text; 
} 
/** 
* 得到下拉菜单的显示的值. 
* @param {下拉菜单dom对象} selectObj 
* @return {得到下拉菜单的显示的&quot;值&quot;} 
*/ 
function getSelectValue(selectObj) { 
    return selectObj.options[selectObj.selectedIndex].value; 
} 
/** 
* 设置下拉菜单的选择状态到指定的值. 
* @param {下拉菜单对象} obj 
* @param {要选择的值} value 
*/ 
function setSelectValue(obj, value) { 
    /*
    for (i = obj.options.length - 1; i &gt;= 0; i--) { 
        if (obj.options[i].value == value) { 
            obj.options[i].selected = true; 
            return; 
        } 
    } 
    */ 
    obj.value= value; 
} 
/** 
* 根据键值串的内容进行下拉菜单的动态组装 
* @param {要进行下拉菜单组装的dom对象} obj 
* @param {键值对用,和;分割,例如&apos;1,男;2,女;3,未知&apos;} valAndText 
*/ 
function setSelectContent(obj,valAndText){ 
    if(trim(valAndText)==&apos;&apos;){ 
        alert(&apos;没有要进行组装下拉菜单的数据!&apos;); 
        return false; 
    } 
    clearSelect(obj); 
    var keyandvalues = valAndText.split(&apos;;&apos;); 
    for(var i=0;i&lt;keyandvalues.length;i++){ 
        var arr = keyandvalues[i].split(&apos;,&apos;); 
        if(arr){ 
            var value =arr[0]; 
            var text =arr[1]; 
            var objOption = new Option(text,value); 
            obj.add(objOption); 
        } 
    } 
} 
/** 
* 清空下拉菜单里面的内容. 
* @param {下拉菜单对象} obj 
*/ 
function clearSelect(obj) { 
    for (var i=obj.options.length; i &gt;0; i--) { 
        obj.remove(0); 
    } 
} 
/*************** 以下方法和多选框相关*************************************************/ 
/** 
* 返回选中的checks的id组成的字符串,逗号隔开. 
* @param {checks数组} checks 
* @return 选择的id组成的字符串 
*/ 
function getCheckedIds(checks){ 
    var selectedValue = &apos;&apos;; 
    var len = checks.length; 
    for(var index=0; index&lt;len; index++) { 
        if(checks[index].checked==true) { 
            selectedValue += checks[index].value+&quot;,&quot;; 
        } 
    } 
    if(selectedValue.length&gt;0) {
        return selectedValue.substring(0,selectedValue.length-1); 
    }
    return selectedValue; 
} 

//下面的代码放到html标签里，并在head里调用上面的js
&lt;HEAD&gt;
    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;
    &lt;!--&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;调用上面的js&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;--&gt;
    &lt;SCRIPT LANGUAGE=&quot;JavaScript&quot;&gt; 
        &lt;!-- 
            /** 
            * 表单验证的示例js方法. 
            */ 
            function check(){ 
                if(checkIfEmpty(&apos;a&apos;,&apos;非空校验&apos;) 
                &amp;&amp;checkIsMail(&apos;b&apos;,&apos;邮箱校验&apos;) 
                &amp;&amp;checkIsNum(&apos;c&apos;,&apos;数字校验&apos;) 
                &amp;&amp;checkIsValid(&apos;d&apos;,&apos;合法性校验&apos;) 
                &amp;&amp;compareTwoDate(&apos;e&apos;,&apos;f&apos;,&apos;小日期与大日期关系错误!&apos;) 
                &amp;&amp;checkLength(&apos;g&apos;,5,&apos;长度校验&apos;) 
                &amp;&amp;checkChooseSelect(&apos;h&apos;,&apos;下拉菜单非空&apos;,&apos;-1&apos;) 
                &amp;&amp;compareTwoNum(&apos;k&apos;,&apos;l&apos;,&apos;大小数目关系不正确!&apos;)){ 
                    alert(&apos;校验通过!&apos;); 
                    return true; 
                }else{ 
                    return false; 
                } 
            } 
            /** 
            * 取下拉菜单的值和文本的示例js方法. 
            */ 
            function getSelect(){ 
                var sss = $(&apos;h&apos;); 
                alert(&apos;下拉菜单选择的文本是:&apos;+getSelectText(sss)+&apos;\n&apos; 
                +&apos;下拉菜单选择的值是:&apos;+getSelectValue(sss)); 
            } 
            /** 
            * 根据键值字符串设置下拉菜单的显示内容. 
            */ 
            function setSelect(){ 
                var sss = $(&apos;i&apos;).value; 
                setSelectContent($(&apos;h&apos;),sss); 
            } 
            /** 
            * 返回多选框数组选择状态的id的字符串,结果以逗号隔开. 
            */ 
            function getMulti(){ 
                alert(&apos;多选选择的id是:&apos;+getCheckedIds(document.getElementsByName(&apos;j&apos;))); 
            } 
        //--&gt; 
    &lt;/SCRIPT&gt;
&lt;/HEAD&gt;
&lt;BODY&gt;
    &lt;table&gt;
      &lt;tr&gt;
        &lt;td&gt; 非空:
          &lt;input id=&apos;a&apos;&gt;&lt;/td&gt;
        &lt;td&gt; checkIfEmpty(&apos;a&apos;,&apos;非空校验&apos;) &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt; 邮箱:
          &lt;input id=&apos;b&apos; value=&apos;323232@2323.com&apos;&gt;&lt;/td&gt;
        &lt;td&gt; checkIsMail(&apos;b&apos;,&apos;邮箱校验&apos;) &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt; 数字:
          &lt;input id=&apos;c&apos; value=&apos;aaaa&apos;&gt;&lt;/td&gt;
        &lt;td&gt; checkIsNum(&apos;c&apos;,&apos;数字校验&apos;) &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt; 合法字符:
          &lt;input id=&apos;d&apos; value=&apos;@$@$#$#!%%#&apos;&gt;&lt;/td&gt;
        &lt;td&gt; checkIsValid(&apos;d&apos;,&apos;合法性校验&apos;) &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt; 小的日期:
          &lt;input id=&apos;e&apos; value=&apos;2010-1-1&apos;&gt;
          大的日期:
          &lt;input id=&apos;f&apos; value=&apos;2011-1-1&apos;&gt;&lt;/td&gt;
        &lt;td&gt; compareTwoDate(&apos;e&apos;,&apos;f&apos;,&apos;小日期与大日期关系错误!&apos;) &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt; 小的数:
          &lt;input id=&apos;k&apos; value=&apos;12.3&apos;&gt;
          大的数:
          &lt;input id=&apos;l&apos; value=&apos;4564&apos;&gt;&lt;/td&gt;
        &lt;td&gt; compareTwoNum(&apos;k&apos;,&apos;l&apos;,&apos;大小数目关系不正确!&apos;) &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt; 字符长度校验(&lt;5):
          &lt;input id=&apos;g&apos;&gt;&lt;/td&gt;
        &lt;td&gt; checkLength(&apos;g&apos;,5,&apos;长度校验&apos;) &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt; 下拉菜单非空校验:
          &lt;select id=&apos;h&apos;&gt;
            &lt;option value=&apos;-1&apos;&gt; 请选择 &lt;/option&gt;
            &lt;option value=&apos;1&apos;&gt; 立项 &lt;/option&gt;
            &lt;option value=&apos;2&apos;&gt; 可研 &lt;/option&gt;
          &lt;/select&gt;&lt;/td&gt;
        &lt;td&gt; checkChooseSelect(&apos;h&apos;,&apos;下拉菜单非空&apos;,&apos;-1&apos;) &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td colspan=&apos;2&apos;&gt;&lt;button onclick=&apos;check()&apos;&gt; 测试表单校验方法 &lt;/button&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;&lt;button onclick=&apos;getSelect()&apos;&gt; 得到下拉菜单的值 &lt;/button&gt;&lt;/td&gt;
        &lt;td&gt; getSelectText(sss)和getSelectValue(sss) &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt; 输入下拉菜单的键值字符串(如右所示)
          &lt;input id=&apos;i&apos; value=&apos;1,男;2,女;3,未知&apos;&gt;
          &lt;button onclick=&apos;setSelect()&apos;&gt; 设置下拉菜单的值 &lt;/button&gt;&lt;/td&gt;
        &lt;td&gt; setSelectContent($(&apos;h&apos;),sss) &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;&lt;input type=&apos;checkbox&apos; name=&apos;j&apos; value=&apos;aaa1&apos;&gt;
          &lt;input type=&apos;checkbox&apos; name=&apos;j&apos; value=&apos;aaa2&apos;&gt;
          &lt;input type=&apos;checkbox&apos; name=&apos;j&apos; value=&apos;aaa3&apos;&gt;
          &lt;input type=&apos;checkbox&apos; name=&apos;j&apos; value=&apos;aaa4&apos;&gt;
          &lt;button onclick=&apos;getMulti()&apos;&gt; 得到多选选择的id &lt;/button&gt;&lt;/td&gt;
        &lt;td&gt; getCheckedIds(document.getElementsByName(&apos;j&apos;)) &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;    
&lt;/BODY&gt;
</code></pre>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;基本类型与引用类型的区别&lt;br&gt;1.基本类型： string,number,boolean,null,undefined;操作和保存在变量的实际的值。&lt;br&gt;2.引用类型： Function,Array,Object;值保存在内存中，js不允许直接访问内存，在操作的时候，操作的是对象的引用。&lt;/p&gt;
    
    </summary>
    
      <category term="前端" scheme="http://106.15.95.246/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="javascript" scheme="http://106.15.95.246/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>node的几个基础实例—静态资源</title>
    <link href="http://106.15.95.246/2017/07/05/node%E7%9A%84%E5%87%A0%E4%B8%AA%E5%9F%BA%E7%A1%80%E5%AE%9E%E4%BE%8B%E2%80%94%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90/"/>
    <id>http://106.15.95.246/2017/07/05/node的几个基础实例—静态资源/</id>
    <published>2017-07-05T12:48:11.000Z</published>
    <updated>2017-07-05T15:33:25.810Z</updated>
    
    <content type="html"><![CDATA[<p>nodejs静态资源服务器必须的几个模块：<br>1、http 是nodejs的服务模块<br>2、url 是url路由模块<br>3、fs 是文件服务器模块<br>4、mime类型表，以extname来决定content-type<br>5、path是路径模块<br>6、child_process子进程模块<br><a id="more"></a><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div></pre></td><td class="code"><pre><div class="line"><span class="meta">"use strict"</span>;</div><div class="line"><span class="comment">//加载所需要的模块</span></div><div class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>);</div><div class="line"><span class="keyword">var</span> url = <span class="built_in">require</span>(<span class="string">'url'</span>);</div><div class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</div><div class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</div><div class="line"><span class="keyword">var</span> cp = <span class="built_in">require</span>(<span class="string">'child_process'</span>);</div><div class="line"></div><div class="line"><span class="comment">//创建服务</span></div><div class="line"><span class="keyword">var</span> httpServer = http.createServer(processRequest);</div><div class="line"></div><div class="line"><span class="keyword">var</span> port = <span class="number">8080</span>;</div><div class="line"></div><div class="line"><span class="comment">//指定一个监听的接口</span></div><div class="line">httpServer.listen(port, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">`app is running at port:<span class="subst">$&#123;port&#125;</span>`</span>);</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">`url: http://localhost:<span class="subst">$&#123;port&#125;</span>`</span>);</div><div class="line">    cp.exec(<span class="string">`explorer http://localhost:<span class="subst">$&#123;port&#125;</span>`</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    &#125;);</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">//响应请求的函数</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">processRequest</span> (<span class="params">request, response</span>) </span>&#123;</div><div class="line">    <span class="comment">//mime类型</span></div><div class="line">    <span class="keyword">var</span> mime = &#123;</div><div class="line">        <span class="string">"css"</span>: <span class="string">"text/css"</span>,</div><div class="line">        <span class="string">"gif"</span>: <span class="string">"image/gif"</span>,</div><div class="line">        <span class="string">"html"</span>: <span class="string">"text/html"</span>,</div><div class="line">        <span class="string">"ico"</span>: <span class="string">"image/x-icon"</span>,</div><div class="line">        <span class="string">"jpeg"</span>: <span class="string">"image/jpeg"</span>,</div><div class="line">        <span class="string">"jpg"</span>: <span class="string">"image/jpeg"</span>,</div><div class="line">        <span class="string">"js"</span>: <span class="string">"text/javascript"</span>,</div><div class="line">        <span class="string">"json"</span>: <span class="string">"application/json"</span>,</div><div class="line">        <span class="string">"pdf"</span>: <span class="string">"application/pdf"</span>,</div><div class="line">        <span class="string">"png"</span>: <span class="string">"image/png"</span>,</div><div class="line">        <span class="string">"svg"</span>: <span class="string">"image/svg+xml"</span>,</div><div class="line">        <span class="string">"swf"</span>: <span class="string">"application/x-shockwave-flash"</span>,</div><div class="line">        <span class="string">"tiff"</span>: <span class="string">"image/tiff"</span>,</div><div class="line">        <span class="string">"txt"</span>: <span class="string">"text/plain"</span>,</div><div class="line">        <span class="string">"wav"</span>: <span class="string">"audio/x-wav"</span>,</div><div class="line">        <span class="string">"wma"</span>: <span class="string">"audio/x-ms-wma"</span>,</div><div class="line">        <span class="string">"wmv"</span>: <span class="string">"video/x-ms-wmv"</span>,</div><div class="line">        <span class="string">"xml"</span>: <span class="string">"text/xml"</span></div><div class="line">    &#125;;</div><div class="line">    </div><div class="line">    <span class="comment">//request里面切出标识符字符串</span></div><div class="line">    <span class="keyword">var</span> requestUrl = request.url;</div><div class="line">    <span class="comment">//url模块的parse方法 接受一个字符串，返回一个url对象,切出来路径</span></div><div class="line">    <span class="keyword">var</span> pathName = url.parse(requestUrl).pathname;</div><div class="line"></div><div class="line">    <span class="comment">//对路径解码，防止中文乱码</span></div><div class="line">    <span class="keyword">var</span> pathName = <span class="built_in">decodeURI</span>(pathName);</div><div class="line"></div><div class="line">    <span class="comment">//解决301重定向问题，如果pathname没以/结尾，并且没有扩展名</span></div><div class="line">    <span class="keyword">if</span> (!pathName.endsWith(<span class="string">'/'</span>) &amp;&amp; path.extname(pathName) === <span class="string">''</span>) &#123;</div><div class="line">        pathName += <span class="string">'/'</span>;</div><div class="line">        <span class="keyword">var</span> redirect = <span class="string">"http://"</span> + request.headers.host + pathName;</div><div class="line">        response.writeHead(<span class="number">301</span>, &#123;</div><div class="line">            <span class="attr">location</span>: redirect</div><div class="line">        &#125;);</div><div class="line">        <span class="comment">//response.end方法用来回应完成后关闭本次对话，也可以写入HTTP回应的具体内容。</span></div><div class="line">        response.end();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">//获取资源文件的绝对路径</span></div><div class="line">    <span class="keyword">var</span> filePath = path.resolve(__dirname + pathName);</div><div class="line">    <span class="built_in">console</span>.log(filePath);</div><div class="line">    <span class="comment">//获取对应文件的文档类型</span></div><div class="line">    <span class="comment">//我们通过path.extname来获取文件的后缀名。由于extname返回值包含”.”，所以通过slice方法来剔除掉”.”，</span></div><div class="line">    <span class="comment">//对于没有后缀名的文件，我们一律认为是unknown。</span></div><div class="line">    <span class="keyword">var</span> ext = path.extname(pathName);</div><div class="line">    ext = ext ? ext.slice(<span class="number">1</span>) : <span class="string">'unknown'</span>;</div><div class="line"></div><div class="line">    <span class="comment">//未知的类型一律用"text/plain"类型</span></div><div class="line">    <span class="keyword">var</span> contentType = mime[ext] || <span class="string">"text/plain"</span>;</div><div class="line"></div><div class="line">    fs.stat(filePath, (err, stats) =&gt; &#123;</div><div class="line">        <span class="keyword">if</span> (err) &#123;</div><div class="line">            response.writeHead(<span class="number">404</span>, &#123; <span class="string">"content-type"</span>: <span class="string">"text/html"</span> &#125;);</div><div class="line">            response.end(<span class="string">"&lt;h1&gt;404 Not Found&lt;/h1&gt;"</span>);</div><div class="line">        &#125;</div><div class="line">        <span class="comment">//没出错 并且文件存在</span></div><div class="line">        <span class="keyword">if</span> (!err &amp;&amp; stats.isFile()) &#123;</div><div class="line">            readFile(filePath, contentType);</div><div class="line">        &#125;</div><div class="line">        <span class="comment">//如果路径是目录</span></div><div class="line">        <span class="keyword">if</span> (!err &amp;&amp; stats.isDirectory()) &#123;</div><div class="line">            <span class="keyword">var</span> html = <span class="string">"&lt;head&gt;&lt;meta charset = 'utf-8'/&gt;&lt;/head&gt;&lt;body&gt;&lt;ul&gt;"</span>;</div><div class="line">            <span class="comment">//读取该路径下文件</span></div><div class="line">            fs.readdir(filePath, (err, files) =&gt; &#123;</div><div class="line">                <span class="keyword">if</span> (err) &#123;</div><div class="line">                    <span class="built_in">console</span>.log(<span class="string">"读取路径失败！"</span>);</div><div class="line">                &#125; <span class="keyword">else</span> &#123;</div><div class="line">                    <span class="comment">//做成一个链接表，方便用户访问</span></div><div class="line">                    <span class="keyword">var</span> flag = <span class="literal">false</span>;</div><div class="line">                    <span class="keyword">for</span> (<span class="keyword">var</span> file <span class="keyword">of</span> files) &#123;</div><div class="line">                        <span class="comment">//如果在目录下找到index.html，直接读取这个文件</span></div><div class="line">                        <span class="keyword">if</span> (file === <span class="string">"index.html"</span>) &#123;</div><div class="line">                            readFile(filePath + (filePath[filePath.length<span class="number">-1</span>]==<span class="string">'/'</span> ? <span class="string">''</span> : <span class="string">'/'</span>) + <span class="string">'index.html'</span>, <span class="string">"text/html"</span>);</div><div class="line">                            flag = <span class="literal">true</span>;</div><div class="line">                            <span class="keyword">break</span>;</div><div class="line">                        &#125;;</div><div class="line">                        html += <span class="string">`&lt;li&gt;&lt;a href='<span class="subst">$&#123;file&#125;</span>'&gt;<span class="subst">$&#123;file&#125;</span>&lt;/a&gt;&lt;/li&gt;`</span>;</div><div class="line">                    &#125;</div><div class="line">                    <span class="keyword">if</span>(!flag) &#123;</div><div class="line">                        html += <span class="string">'&lt;/ul&gt;&lt;/body&gt;'</span>;</div><div class="line">                        response.writeHead(<span class="number">200</span>, &#123; <span class="string">"content-type"</span>: <span class="string">"text/html"</span> &#125;);</div><div class="line">                        response.end(html);</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">            &#125;);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="comment">//读取文件的函数</span></div><div class="line">        <span class="function"><span class="keyword">function</span> <span class="title">readFile</span>(<span class="params">filePath, contentType</span>)</span>&#123;</div><div class="line">            response.writeHead(<span class="number">200</span>, &#123; <span class="string">"content-type"</span>: contentType &#125;);</div><div class="line">            <span class="comment">//建立流对象，读文件</span></div><div class="line">            <span class="keyword">var</span> stream = fs.createReadStream(filePath);</div><div class="line">            <span class="comment">//错误处理</span></div><div class="line">            stream.on(<span class="string">'error'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">                response.writeHead(<span class="number">500</span>, &#123; <span class="string">"content-type"</span>: contentType &#125;);</div><div class="line">                response.end(<span class="string">"&lt;h1&gt;500 Server Error&lt;/h1&gt;"</span>);</div><div class="line">            &#125;);</div><div class="line">            <span class="comment">//读取文件</span></div><div class="line">            stream.pipe(response);</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;nodejs静态资源服务器必须的几个模块：&lt;br&gt;1、http 是nodejs的服务模块&lt;br&gt;2、url 是url路由模块&lt;br&gt;3、fs 是文件服务器模块&lt;br&gt;4、mime类型表，以extname来决定content-type&lt;br&gt;5、path是路径模块&lt;br&gt;6、child_process子进程模块&lt;br&gt;
    
    </summary>
    
      <category term="nodejs" scheme="http://106.15.95.246/categories/nodejs/"/>
    
    
      <category term="nodejs" scheme="http://106.15.95.246/tags/nodejs/"/>
    
  </entry>
  
  <entry>
    <title>初学docker3</title>
    <link href="http://106.15.95.246/2017/07/05/%E5%88%9D%E5%AD%A6docker3/"/>
    <id>http://106.15.95.246/2017/07/05/初学docker3/</id>
    <published>2017-07-05T12:02:36.000Z</published>
    <updated>2017-07-05T12:20:33.372Z</updated>
    
    <content type="html"><![CDATA[<p>制作一个Node.js包含Express.js环境的镜像，通过pm2来启动web应用，然后发布到Docker云上；<br>我们还会使用redis数据库来暂存用户的访问次数；<br>在Node.js应用前端，我们需要放置一个Nginx作为反向代理。<br><a id="more"></a></p>
<p>第一步，我们把需要用到的Image镜像统统都下载到本地，执行如下命令。</p>
<pre><code>$ sudo docker pull redis:latest
$ sudo docker pull node:latest
</code></pre><p>执行docker images检查一下这些镜像是否都安装完毕。</p>
<p>我们先在本地创建一个部署Node.js应用的目录，然后写上package.json</p>
<pre><code>$ mkdir /var/node/
$ mkdir /var/node/docker_node
</code></pre><p>在创建我们的应用之前，我们从node这个镜像基础上，开始制作自己的镜像，这个镜像只是比node镜像多了一个pm2的命令。<br>运行如下命令，进入到Container的命令行，然后我们安装pm2软件。<br>它是Node.js进程管理软件，可以方便地重启进程和查看Node.js日志。</p>
<pre><code>$ sudo docker run -i -t node /bin/bash
#进入Container的bash    
$ npm install pm2 -g
#从Container的bash退出
$ exit
</code></pre><p>这样我们就成功地在node这个镜像的基础上安装了pm2，然后我们要把这个新的Container保存为镜像，这样以后我们要用到带pm2的Node.js镜像，只需下载它即可。<br>执行命令，进行登录，然后把镜像push到云上，非官方不允许直接提交根目录镜像，所以必须以&lt;用户名&gt;/&lt;镜像名&gt;这样的方式提交，比如doublespout/node_pm2这样</p>
<pre><code>#使用docker官网注册的用户名和密码进行登录
$ sudo docker login
Username: &lt;Your Docker Account&gt;
Password: 
Email:  &lt;Your Email&gt;
Login Succeeded

#查看所有Container，找到node_pm2的CONTAINER ID
$ sudo docker ps -a
CONTAINER ID  IMAGE   COMMAND       CREATED         STATUS           PORTS      NAMES
7a3e85bfaddf  node:0  &quot;/bin/bash&quot;   5 minutes ago   Exited (130)...             goofy_fermi

#登录成功之后，把Container提交为Images
$ sudo docker commit 7a3e doublespout/node_pm2

#然后查看Images列表
$ sudo docker images node_pm2
REPOSITORY          TAG                 IMAGE ID            CREATED              VIRTUAL SIZE
node_pm2            latest              9a418757ae2b        About a minute ago   714.8 MB

#把镜像提交到云上
$ sudo docker push doublespout/node_pm2

#从云上下载node_pm2
$ sudo docker pull doublespout/node_pm2
</code></pre><p>接下来我们将通过redis镜像，启动一个redis的Container，命令如下：</p>
<pre><code>docker run --name redis-server -d redis redis-server --appendonly yes
</code></pre><p>然后我们要准备编写Node.js代码，实现这个计数访问应用的功能。<br>在/var/node/docker_node目录下创建如下的package.json文件。</p>
<pre><code>{
  &quot;name&quot;: &quot;docker_node&quot;,
  &quot;version&quot;: &quot;0.0.1&quot;,
  &quot;main&quot;: &quot;app.js&quot;,
  &quot;dependencies&quot;: {
       &quot;express&quot;:&quot;4.10.2&quot;,
       &quot;redis&quot;:&quot;0.12.1&quot;,
   },
  &quot;engines&quot;: {
    &quot;node&quot;: &quot;&gt;=0.10.0&quot;
  }
}
</code></pre><p>然后我们创建app.js，启动并监听8000端口，同时通过redis记录访问次数。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">var express = require(<span class="string">'express'</span>);</div><div class="line">var redis = require(<span class="string">"redis"</span>);</div><div class="line">var app = express();</div><div class="line">//从环境变量里读取redis服务器的ip地址</div><div class="line">var redisHost = process.env[<span class="string">'REDIS_PORT_6379_TCP_ADDR'</span>];</div><div class="line">var redisPort = process.env[<span class="string">'REDIS_PORT_6379_TCP_PORT'</span>];</div><div class="line"></div><div class="line">var reidsClient = redis.createClient(redisPort, redisHost);</div><div class="line"></div><div class="line">app.get(<span class="string">'/'</span>, <span class="keyword">function</span>(req, res)&#123;</div><div class="line">	  console.log(<span class="string">'get request'</span>)</div><div class="line">	  reidsClient.get(<span class="string">'access_count'</span>, <span class="keyword">function</span>(err, countNum)&#123;</div><div class="line">	  		<span class="keyword">if</span>(err)&#123;</div><div class="line">	  			<span class="built_in">return</span> res.send(<span class="string">'get access count error'</span>)</div><div class="line">	  		&#125;</div><div class="line">	  		<span class="keyword">if</span>(!countNum)&#123;</div><div class="line">	  			countNum = 1</div><div class="line">	  		&#125;</div><div class="line">	  		<span class="keyword">else</span>&#123;</div><div class="line">	  			countNum = parseInt(countNum) + 1</div><div class="line">	  		&#125;</div><div class="line">	  		reidsClient.set(<span class="string">'access_count'</span>, countNum, <span class="keyword">function</span>(err)&#123;</div><div class="line">	  			<span class="keyword">if</span>(err)&#123;</div><div class="line">		  			<span class="built_in">return</span> res.send(<span class="string">'set access count error'</span>)</div><div class="line">		  		&#125;</div><div class="line">		  		res.send(countNum.toString())</div><div class="line">	  		&#125;)</div><div class="line">	  &#125;)</div><div class="line">&#125;);</div><div class="line"></div><div class="line">app.listen(8000);</div></pre></td></tr></table></figure></p>
<p>启动一个Container把依赖包装一下，命令如下：</p>
<pre><code>$ sudo docker run --rm -i -t -v /var/node/docker_node:/var/node/docker_node -w /var/node/docker_node/ doublespout/node_pm2 cnpm install
</code></pre><p>-w参数表示命令执行的当前工作目录，屏幕会打印依赖包的安装过程，等所有Node.js的包安装完成后，这个Container会自动退出。</p>
<p>如果出现EACCESS的权限错误，可以执行如下命令，许可SELinux的工作状态，不过这只是临时修改，重启系统后会恢复。</p>
<pre><code>su -c &quot;setenforce 0&quot;
</code></pre><p>代码开发完毕，基于刚才提交的doublespout/node_pm2镜像，需要启动一个运行这个程序的Container，要求这个Container有端口映射、文件挂载，并同时加载redis的那个Container，命令如下：</p>
<pre><code>#挂载pm2的日志输出
$ mkdir /var/log/pm2
#使用pm2启动app应用，会有问题
$ sudo docker run -d --name &quot;nodeCountAccess&quot; -p 8000:8000 -v /var/node/docker_node:/var/node/docker_node -v /var/log/pm2:/root/.pm2/logs/ --link redis-server:redis -w /var/node/docker_node/  doublespout/node_pm2 pm2 start app.js
</code></pre><p>但是当我们执行docker ps后发现这个Container并没有启动，这是什么原因呢？<br>因为利用pm2的守护进程方式启动应用，所以Container会认为进程已经运行结束，所以自己退出了，<br>这时候需要让pm2以非守护进程的方式运行在Container里即可。</p>
<pre><code>$ sudo docker run -d --name &quot;nodeCountAccess&quot; -p 8000:8000 -v /var/node/docker_node:/var/node/docker_node -v /var/log/pm2:/root/.pm2/logs/ --link redis-server:redis -w /var/node/docker_node/  doublespout/node_pm2 pm2 start --no-daemon app.js
</code></pre><p>再执行docker ps，就可以看到nodeCountAccess这个名字的Container在运行了，使用浏览器打开主机的8000端口，也能看到访问的计数次数。</p>
<p>接下来配置Nginx。</p>
<p>由于使用Docker的Container它的ip地址是动态变化的，所以想要使用Nginx容器来做反向代理，配置写起来比较困难，暂不使用Docker容器来管理Nginx，而是直接编译安装Nginx。</p>
<p>我们使用Nginx的分支版本openresty来做反向代理，openresty比Nginx内置了ngx-lua模块，让Nginx具有逻辑处理能力，我们用yum安装依赖包，然后编译安装openresty。</p>
<pre><code>yum install -y gcc gcc-c++ kernel-devel
yum install -y readline-devel pcre-devel openssl-devel openssl zlib zlib-devel pcre-devel
wget http://openresty.org/download/ngx_openresty-1.7.2.1.tar.gz
tar -zxvf ngx_openresty-1.7.2.1.tar.gz
cd ngx_openresty-1.7.2.1
./configure --prefix=/opt/openresty \
        --with-pcre-jit \
        --with-ipv6 \
        --without-http_redis2_module \
        --with-http_iconv_module \
        -j2
make &amp;&amp; make install
ln -s /opt/openresty/nginx/sbin/nginx /usr/sbin/
</code></pre><p>修改openresty的默认配置文件，配置文件在/opt/openresty/nginx/conf/nginx.conf，修改为如下内容，文件是精简的配置，不要用于生产环境，主要就看server那段配置的内容。</p>
<pre><code>worker_processes 1;
events {
    worker_connections  1024;
}
http {
    include       mime.types;
    default_type  application/octet-stream;
    server_names_hash_bucket_size 64;
    access_log off;

    sendfile        on;
    keepalive_timeout  65;

    server {
        listen 3001;
        location / {
          proxy_pass http://127.0.0.1:8000;
          proxy_redirect default;
          proxy_http_version 1.1;
          proxy_set_header Upgrade $http_upgrade;
          proxy_set_header Connection $http_connection;
          proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
          proxy_set_header Host $http_host;
        }
    }
}
</code></pre><p>执行命令nginx就将openresty运行起来，然后打开浏览器，输入主机IP:3001就可以正常访问之前启动的Node.js访问计数应用。</p>
<p>另外如果遇到在Container里无法解析域名，则需要手动增加dns服务器，方法如下：</p>
<pre><code>DOCKER_OPTS=&quot; --dns 8.8.8.8&quot;
service docker restart
</code></pre>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;制作一个Node.js包含Express.js环境的镜像，通过pm2来启动web应用，然后发布到Docker云上；&lt;br&gt;我们还会使用redis数据库来暂存用户的访问次数；&lt;br&gt;在Node.js应用前端，我们需要放置一个Nginx作为反向代理。&lt;br&gt;
    
    </summary>
    
      <category term="docker" scheme="http://106.15.95.246/categories/docker/"/>
    
    
      <category term="nodejs" scheme="http://106.15.95.246/tags/nodejs/"/>
    
      <category term="docker" scheme="http://106.15.95.246/tags/docker/"/>
    
  </entry>
  
  <entry>
    <title>初学docker2</title>
    <link href="http://106.15.95.246/2017/07/05/%E5%88%9D%E5%AD%A6docker2/"/>
    <id>http://106.15.95.246/2017/07/05/初学docker2/</id>
    <published>2017-07-05T11:58:19.000Z</published>
    <updated>2017-07-05T12:25:54.891Z</updated>
    
    <content type="html"><![CDATA[<p>使用Docker的常规做法，数据库单独用一个Image，程序一个Image，利用Docker的link属性将他们连接起来，配合使用。<br><a id="more"></a><br>下载官方的redis最新镜像</p>
<pre><code>$ sudo docker pull redis:latest 
</code></pre><p>启动redis镜像的Container，开启redis-server持久化服务。</p>
<pre><code>$ sudo docker run --name redis-server -d redis redis-server --appendonly yes
</code></pre><p>再启动一个redis镜像的Container作为客户端，连接我们刚才启动的redis-server</p>
<pre><code>$ sudo docker run --rm=true -it --link redis-server:redis redis /bin/bash

$ redis-cli -h &quot;$REDIS_PORT_6379_TCP_ADDR&quot; -p &quot;$REDIS_PORT_6379_TCP_PORT&quot;
$ 172.17.0.34:6379&gt; set a 1 #成功连入redis数据库服务器
OK
$ 172.17.0.34:6379&gt; get a
&quot;1&quot;
</code></pre>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;使用Docker的常规做法，数据库单独用一个Image，程序一个Image，利用Docker的link属性将他们连接起来，配合使用。&lt;br&gt;
    
    </summary>
    
      <category term="docker" scheme="http://106.15.95.246/categories/docker/"/>
    
    
      <category term="docker" scheme="http://106.15.95.246/tags/docker/"/>
    
      <category term="redis" scheme="http://106.15.95.246/tags/redis/"/>
    
  </entry>
  
  <entry>
    <title>Nginx作为Node.js前端WebServer</title>
    <link href="http://106.15.95.246/2017/07/05/Nginx%E4%BD%9C%E4%B8%BANode-js%E5%89%8D%E7%AB%AFWebServer/"/>
    <id>http://106.15.95.246/2017/07/05/Nginx作为Node-js前端WebServer/</id>
    <published>2017-07-05T11:32:13.000Z</published>
    <updated>2017-07-05T11:50:27.005Z</updated>
    
    <content type="html"><![CDATA[<p>Ngnix拥有出色的HTTP反向代理能力,将他置于Node.js前端来处理我们的各种需求。<br><a id="more"></a></p>
<h4 id="1-静态文件处理能力"><a href="#1-静态文件处理能力" class="headerlink" title="1.静态文件处理能力"></a>1.静态文件处理能力</h4><p>Node.js的静态文件处理能力受制于他的单线程异步I/O模型。使用Ngnix处理静态文件性能基本上是纯Node.js的2倍以上。</p>
<h4 id="2-反向代理规则"><a href="#2-反向代理规则" class="headerlink" title="2.反向代理规则"></a>2.反向代理规则</h4><p>有时候存在反向代理服务器配置多样化的情况，有时候我们希望配置较好的机器能够分担更多的压力，有时又因为session的关系，我们需要将同一来源IP客户端全转发到同一进程上。使用Ngnix的配置文件可以简单实现。</p>
<h4 id="3-扩展性"><a href="#3-扩展性" class="headerlink" title="3.扩展性"></a>3.扩展性</h4><p>Nginx可以加入许多扩展，帮助我们处理业务。最典型的就是加入Lua语言的扩展，通过胶水语言Lua，对Nginx赋予了复杂逻辑判断的能力，并且保持着一贯的高效。例如我们有一个api服务，对访问会进行md5签名或对同一客户端来源有访问频率限制，这部分代码是后端业务处理前必须通过的验证，具有卡口作用。利用Lua扩展，我们就可以高效、简单地完成这个卡口。</p>
<h4 id="4-稳定性和转发性能"><a href="#4-稳定性和转发性能" class="headerlink" title="4.稳定性和转发性能"></a>4.稳定性和转发性能</h4><p>Nginx的稳定性有目共睹，同样负载下，相比Node.js占用的CPU和内存资源更少，同时高效地转发新能，方便地转发配置都是我们选择它作为反向代理的原因之一，比如我们可以根据不同的url请求路径转发到不同的后端机器上，也可以设定超时时间等，方便管理。</p>
<h4 id="5-安全性"><a href="#5-安全性" class="headerlink" title="5.安全性"></a>5.安全性</h4><p>Nginx已经被各大互联网公司广泛应用，经过一些配置可以有效抵挡类似slowloris等的DoS攻击，而Node.js在这方面做的还不够。</p>
<h4 id="6-运维管理"><a href="#6-运维管理" class="headerlink" title="6.运维管理"></a>6.运维管理</h4><p>可能我们目前限于资金的原因，只有一台web服务器，同时有多个站点需要占用80端口，这时我们只需要让Node.js服务监听本地的特殊端口，例如3000，通过Nginx的反向代理配置，就可以完成多个站点域名指向一台机器的需求了。</p>
<p>所以，一个好习惯就是，在生产环境中，永远把Nginx放置在Node.js的前端，对性能、安全性和将来的扩展性都有益处。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Ngnix拥有出色的HTTP反向代理能力,将他置于Node.js前端来处理我们的各种需求。&lt;br&gt;
    
    </summary>
    
      <category term="Nginx" scheme="http://106.15.95.246/categories/Nginx/"/>
    
    
      <category term="Nginx" scheme="http://106.15.95.246/tags/Nginx/"/>
    
      <category term="nodejs" scheme="http://106.15.95.246/tags/nodejs/"/>
    
  </entry>
  
  <entry>
    <title>初学docker1</title>
    <link href="http://106.15.95.246/2017/07/05/%E5%88%9D%E5%AD%A6docker1/"/>
    <id>http://106.15.95.246/2017/07/05/初学docker1/</id>
    <published>2017-07-05T11:26:03.000Z</published>
    <updated>2017-07-05T12:29:31.570Z</updated>
    
    <content type="html"><![CDATA[<p>Docker是一个开源的应用容器引擎，可以让开发者打包自己的应用及依赖到一个可移植的容器中，然后发布到任何流行的Linux机器上，也可实现虚拟化。<br><a id="more"></a><br>对于在CentOS 7下的用户，安装非常简单，直接运行如下命令，就可以安装最新版本的Docker。<br>    $ sudo yum install docker</p>
<p>启动Docker服务，并且把Docker服务开机启动。</p>
<pre><code>$ sudo service docker start
$ sudo chkconfig docker on
</code></pre><p>输入如下命令，检查Dcoker进程是否已经启动。</p>
<pre><code>$ ps -ef|grep docker
</code></pre><p>现在Docker服务已经安装并启动，接下来需要下载Image镜像，镜像就是应用运行的环境，比如自己装好Node.js和npm然后发布到Docker Hub上，供自己或者别人下载，也可以下载安装一些官方的镜像，把它作为镜像的基础。<br>先下载CentOS镜像</p>
<pre><code>$ sudo docker pull centos:7
</code></pre><p>执行命令查看镜像是否安装成功。</p>
<pre><code>$ sudo docker images centos
</code></pre><h4 id="docker基本命令"><a href="#docker基本命令" class="headerlink" title="docker基本命令"></a>docker基本命令</h4><pre><code>1、获取镜像。
$ sudo docker pull NAME[:TAG]
$ sudo docker pull centos:latest 
2、启动Container盒子。
$ sudo docker run [OPTIONS] IMAGE [COMMAND] [ARG...] 
$ sudo docker run -t -i centos /bin/bash
3、查看镜像列表，会把本地所有的images列出。
$ sudo docker images [OPTIONS] [NAME]
$ sudo docker images centos
4、查看容器列表，可以看到所有我们创建过的Container。
$ sudo docker ps [OPTIONS] 
$ sudo docker ps -a
5、删除镜像，从本地删除一个已经下载的镜像。
$ sudo docker rmi IMAGE [IMAGE...] 
$ sudo docker rmi centos:latest
6、移除一个或多个容器实例。
$ sudo docker rm [OPTIONS] CONTAINER [CONTAINER...]
$ sudo docker rm sudo docker ps -aq
7、停止一个正在运行的容器。
$ sudo docker kill [OPTIONS] CONTAINER [CONTAINER...]
$ sudo docker kill 026e
8、重启一个正在运行的容器。
$ sudo docker restart [OPTIONS] CONTAINER [CONTAINER...]
$ sudo docker restart 026e
9、启动一个已经停止的容器。
$ sudo docker start [OPTIONS] CONTAINER [CONTAINER...]
$ sudo docker start 026e
</code></pre><p>简单说明一下Image和Container的关系。Image顾名思义就是镜像的意思，可以把它理解为一个执行环境（env），当执行docker run命令之后，Dock就会根据当前的Image创建一个新的Container，Container是一个程序运行的沙箱，它们互相独立，但都是运行在Image创建的执行环境之上。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Docker是一个开源的应用容器引擎，可以让开发者打包自己的应用及依赖到一个可移植的容器中，然后发布到任何流行的Linux机器上，也可实现虚拟化。&lt;br&gt;
    
    </summary>
    
      <category term="docker" scheme="http://106.15.95.246/categories/docker/"/>
    
    
      <category term="docker" scheme="http://106.15.95.246/tags/docker/"/>
    
  </entry>
  
  <entry>
    <title>怎么使用react搭建工程3—webpack</title>
    <link href="http://106.15.95.246/2017/07/04/%E6%80%8E%E4%B9%88%E4%BD%BF%E7%94%A8react%E6%90%AD%E5%BB%BA%E5%B7%A5%E7%A8%8B3%E2%80%94webpack/"/>
    <id>http://106.15.95.246/2017/07/04/怎么使用react搭建工程3—webpack/</id>
    <published>2017-07-04T08:35:26.000Z</published>
    <updated>2017-07-04T15:08:22.870Z</updated>
    
    <content type="html"><![CDATA[<p>开发状态webpack.config.dev.js<br><a id="more"></a><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div></pre></td><td class="code"><pre><div class="line">const path = require(<span class="string">'path'</span>);</div><div class="line">const webpack = require(<span class="string">'webpack'</span>);</div><div class="line">const HtmlWebpackPlugin = require(<span class="string">'html-webpack-plugin'</span>);</div><div class="line"></div><div class="line">module.exports = &#123;</div><div class="line">  devtool: <span class="string">'cheap-eval-source-map'</span>,</div><div class="line">  entry: [</div><div class="line">    // 开启react代码的模块热替换（HMR）</div><div class="line">    <span class="string">'react-hot-loader/patch'</span>,</div><div class="line">    // 为webpack-dev-server的环境打包好运行代码</div><div class="line">    // 然后连接到指定服务器域名与端口</div><div class="line">    <span class="string">'webpack-dev-server/client?http://localhost:8080'</span>,</div><div class="line">    // 为热替换（HMR）打包好运行代码</div><div class="line">    // only- 意味着只有成功更新运行代码才会执行热替换（HMR）</div><div class="line">    <span class="string">'webpack/hot/only-dev-server'</span>,</div><div class="line">    // 我们app的入口文件</div><div class="line">    <span class="string">'./index.js'</span></div><div class="line">  ],</div><div class="line">  output: &#123;</div><div class="line">    // 输出的打包文件</div><div class="line">    filename: <span class="string">'bundle.[hash].js'</span>,</div><div class="line">    // 输出文件路劲</div><div class="line">    path: path.resolve(__dirname, <span class="string">'dist'</span>),</div><div class="line">    // 对于热替换（HMR）是必须的，让webpack知道在哪里载入热更新的模块（chunk）</div><div class="line">    publicPath: <span class="string">'/dist'</span></div><div class="line">  &#125;,</div><div class="line">  context: path.resolve(__dirname, <span class="string">'src'</span>),</div><div class="line">  devServer: &#123;</div><div class="line">    // 开启服务器的模块热替换（HMR）</div><div class="line">    hot: <span class="literal">true</span>,</div><div class="line">    // 开启服务器输出文件的路径</div><div class="line">    contentBase: path.resolve(__dirname, <span class="string">'src'</span>),</div><div class="line">    // 和上文output的<span class="string">"publicPath"</span>值保持一致</div><div class="line">    publicPath: <span class="string">'/'</span></div><div class="line">  &#125;,</div><div class="line"></div><div class="line">  // loader 配置</div><div class="line">  module: &#123;</div><div class="line">    rules: [&#123;</div><div class="line">        <span class="built_in">test</span>: /\.js$/,</div><div class="line">        use: [</div><div class="line">          <span class="string">'babel-loader'</span>,</div><div class="line">        ],</div><div class="line">        exclude: /(node_modules|bower_components)/,</div><div class="line">      &#125;,</div><div class="line">      &#123;</div><div class="line">        <span class="built_in">test</span>: /\.css$/,</div><div class="line">        use: [</div><div class="line">          <span class="string">'style-loader'</span>,</div><div class="line">          <span class="string">'css-loader?importLoaders=1'</span>,</div><div class="line">          <span class="string">'postcss-loader'</span></div><div class="line">        ]</div><div class="line">      &#125;,&#123;</div><div class="line">        <span class="built_in">test</span>: /\.(sass|scss)$/,</div><div class="line">        use: [</div><div class="line">          <span class="string">"style-loader"</span>,</div><div class="line">          <span class="string">"css-loader"</span>,</div><div class="line">          <span class="string">'postcss-loader'</span>,</div><div class="line">          <span class="string">"sass-loader"</span></div><div class="line">        ]</div><div class="line">      &#125;,&#123;</div><div class="line">        <span class="built_in">test</span>: /\.(jpg|png|gif|eot|svg|ttf|woff|woff2)$/,</div><div class="line">        use: [<span class="string">'file-loader'</span>]</div><div class="line">      &#125;,&#123;</div><div class="line">        <span class="built_in">test</span>: /\.(mp4|webm)$/,</div><div class="line">        use:[<span class="string">'url-loader?limit=10000'</span>]</div><div class="line">      &#125;</div><div class="line">    ],</div><div class="line">  &#125;,</div><div class="line"></div><div class="line">  // plugins 插件配置</div><div class="line">  plugins: [</div><div class="line">    // 开启全局的模块热替换（HMR）</div><div class="line">    new webpack.HotModuleReplacementPlugin(),</div><div class="line">    // 当模块热替换（HMR）时在浏览器控制台输出对用户更友好的模块名字信息</div><div class="line">    new webpack.NamedModulesPlugin(),</div><div class="line">    // dist目录下生成html模板文件</div><div class="line">    new HtmlWebpackPlugin(&#123;</div><div class="line">     template: <span class="string">'./index.html'</span>,</div><div class="line">    &#125;),</div><div class="line">    // autoprefixer 生成浏览器前缀</div><div class="line">    new webpack.LoaderOptionsPlugin(&#123;</div><div class="line">      options: &#123;</div><div class="line">        postcss: <span class="function"><span class="title">function</span></span>()&#123;</div><div class="line">          <span class="built_in">return</span> [ require(<span class="string">"autoprefixer"</span>)(&#123; browsers: [<span class="string">'last 2 versions'</span>] &#125;) ]</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    &#125;)</div><div class="line">  ],</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>生产状态下webpack.config.pro.js<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div></pre></td><td class="code"><pre><div class="line">const path = require(<span class="string">'path'</span>);</div><div class="line">const webpack = require(<span class="string">'webpack'</span>);</div><div class="line">const ExtractTextPlugin = require(<span class="string">'extract-text-webpack-plugin'</span>);</div><div class="line"></div><div class="line">module.exports = &#123;</div><div class="line">  entry: <span class="string">'./index.js'</span>,</div><div class="line">  output: &#123;</div><div class="line">    filename: <span class="string">'bundle.[hash].js'</span>,</div><div class="line">    path: path.resolve(__dirname, <span class="string">'dist'</span>),</div><div class="line">    publicPath: <span class="string">'/dist'</span></div><div class="line">  &#125;,</div><div class="line">  context: path.resolve(__dirname, <span class="string">'src'</span>),</div><div class="line">  module: &#123;</div><div class="line">    rules: [&#123;</div><div class="line">        <span class="built_in">test</span>: /\.js$/,</div><div class="line">        use: [</div><div class="line">          <span class="string">'babel-loader'</span>,</div><div class="line">        ],</div><div class="line">        exclude: /(node_modules|bower_components)/,</div><div class="line">      &#125;,&#123;</div><div class="line">         <span class="built_in">test</span>: /\.css$/,</div><div class="line">         use: ExtractTextPlugin.extract(&#123;</div><div class="line">           use: [</div><div class="line">             <span class="string">'style-loader'</span>,</div><div class="line">             <span class="string">'css-loader?importLoaders=1'</span>,</div><div class="line">             <span class="string">'postcss-loader'</span></div><div class="line">           ]</div><div class="line">         &#125;)</div><div class="line">       &#125;,&#123;</div><div class="line">         <span class="built_in">test</span>: /\.(sass|scss)$/,</div><div class="line">         use: ExtractTextPlugin.extract(&#123;</div><div class="line">           use: [</div><div class="line">             <span class="string">'css-loader?importLoaders=1'</span>,</div><div class="line">             <span class="string">'postcss-loader'</span>,</div><div class="line">            &#123;</div><div class="line">               loader: <span class="string">"sass-loader"</span>,</div><div class="line">               options: &#123;</div><div class="line">                 sourceMap:<span class="literal">true</span>,</div><div class="line">                 outputStyle : <span class="string">'compressed'</span></div><div class="line">              &#125;</div><div class="line">            &#125;</div><div class="line">          ]</div><div class="line">        &#125;)</div><div class="line">       &#125;,&#123;</div><div class="line">        <span class="built_in">test</span>: /\.(jpg|png|gif|eot|svg|ttf|woff|woff2)$/,</div><div class="line">        use: [<span class="string">'file-loader'</span>]</div><div class="line">      &#125;,</div><div class="line">      &#123;</div><div class="line">        <span class="built_in">test</span>: /\.(mp4|webm)$/,</div><div class="line">        use:[<span class="string">'url-loader?limit=10000'</span>]</div><div class="line">      &#125;</div><div class="line">    ],</div><div class="line">  &#125;,</div><div class="line">  plugins: [</div><div class="line">    new HtmlWebpackPlugin(&#123;</div><div class="line">     template: <span class="string">'./index.html'</span>,</div><div class="line">    &#125;),</div><div class="line">     new ExtractTextPlugin(&#123;</div><div class="line">     filename : <span class="string">'style.[hash].css'</span></div><div class="line">     &#125;),</div><div class="line">     new webpack.optimize.UglifyJsPlugin(&#123;</div><div class="line">       comments: <span class="literal">false</span>,</div><div class="line">       compress: &#123; warnings: <span class="literal">false</span> &#125;</div><div class="line">    &#125;),</div><div class="line">    new webpack.LoaderOptionsPlugin(&#123;</div><div class="line">      options: &#123;</div><div class="line">        postcss: <span class="function"><span class="title">function</span></span>()&#123;</div><div class="line">          <span class="built_in">return</span> [ require(<span class="string">"autoprefixer"</span>)(&#123; browsers: [<span class="string">'last 2 versions'</span>] &#125;) ]</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    &#125;)</div><div class="line">  ],</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;开发状态webpack.config.dev.js&lt;br&gt;
    
    </summary>
    
      <category term="react" scheme="http://106.15.95.246/categories/react/"/>
    
    
      <category term="javascript" scheme="http://106.15.95.246/tags/javascript/"/>
    
      <category term="react" scheme="http://106.15.95.246/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>怎么使用react搭建工程2—React-router</title>
    <link href="http://106.15.95.246/2017/07/04/%E6%80%8E%E4%B9%88%E4%BD%BF%E7%94%A8react%E6%90%AD%E5%BB%BA%E5%B7%A5%E7%A8%8B2%E2%80%94React-router/"/>
    <id>http://106.15.95.246/2017/07/04/怎么使用react搭建工程2—React-router/</id>
    <published>2017-07-04T06:24:35.000Z</published>
    <updated>2017-07-04T07:29:50.422Z</updated>
    
    <content type="html"><![CDATA[<p>React-Router就是React的一个组件，它并不会被渲染，只是一个创建内部路由规则的配置对象，根据匹配的路由地址展现相应的组件。<br><a id="more"></a><br>Route对路由地址和组件进行绑定，Route具有嵌套功能，表示路由地址的包涵关系，这和组件之间的嵌套并没有直接联系。<br>Route可以向绑定的组件传递7个属性：children，history，location，params，route，routeParams，routes，每个属性都包涵路由的相关的信息。<br>比较常用的有children（以路由的包涵关系为区分的组件），location（包括地址，参数，地址切换方式，key值，hash值）。<br>react-router提供Link标签，这只是对a标签的封装，值得注意的是，点击链接进行的跳转并不是默认的方式，react-router阻止了a标签的默认行为并用pushState进行hash值的转变。<br>切换页面的过程是在点击Link标签或者后退前进按钮时，会先发生url地址的转变，Router监听到地址的改变根据Route的path属性匹配到对应的组件，将state值改成对应的组件并调用setState触发render函数重新渲染dom。<br>当页面比较多时，项目就会变得越来越大，尤其对于单页面应用来说，初次渲染的速度就会很慢，这时候就需要按需加载，只有切换到页面的时候才去加载对应的js文件。<br>react配合webpack进行按需加载的方法很简单，Route的component改为getComponent，组件用require.ensure的方式获取，并在webpack中配置chunkFilename。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">import React, &#123;Component, PropTypes&#125; from <span class="string">'react'</span>;</div><div class="line">import &#123; Router, Route, Redirect, IndexRoute, browserHistory, hashHistory &#125; from <span class="string">'react-router'</span>;</div><div class="line"></div><div class="line">import index from <span class="string">'../Component/index'</span>;</div><div class="line"></div><div class="line">class Roots extends Component &#123;</div><div class="line">    <span class="function"><span class="title">render</span></span>() &#123;</div><div class="line">        <span class="built_in">return</span> (</div><div class="line">            &lt;div&gt;&#123;this.props.children&#125;&lt;/div&gt;</div><div class="line">        );</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">const <span class="built_in">history</span> = process.env.NODE_ENV !== <span class="string">'production'</span> ? browserHistory : hashHistory;</div><div class="line"></div><div class="line">const Component1 = (location, cb) =&gt; &#123;</div><div class="line">    require.ensure([], require =&gt; &#123;</div><div class="line">        cb(null, require(<span class="string">'../Component/Component1'</span>).default)</div><div class="line">    &#125;,<span class="string">'Component1'</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line">const RouteConfig = (</div><div class="line">    &lt;Router <span class="built_in">history</span>=&#123;<span class="built_in">history</span>&#125;&gt;</div><div class="line">        &lt;Route path=<span class="string">"/"</span> component=&#123;Roots&#125;&gt;</div><div class="line">            &lt;IndexRoute component=&#123;index&#125; /&gt;//首页</div><div class="line">            &lt;Route path=<span class="string">"index"</span> component=&#123;index&#125; /&gt;</div><div class="line">            &lt;Route path=<span class="string">"Component2"</span> getComponent=&#123;Component2&#125; /&gt;</div><div class="line">            &lt;Redirect from=<span class="string">'*'</span> to=<span class="string">'/'</span>  /&gt;</div><div class="line">        &lt;/Route&gt;</div><div class="line">    &lt;/Router&gt;</div><div class="line">);</div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;React-Router就是React的一个组件，它并不会被渲染，只是一个创建内部路由规则的配置对象，根据匹配的路由地址展现相应的组件。&lt;br&gt;
    
    </summary>
    
      <category term="react" scheme="http://106.15.95.246/categories/react/"/>
    
    
      <category term="javascript" scheme="http://106.15.95.246/tags/javascript/"/>
    
      <category term="react" scheme="http://106.15.95.246/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>怎么使用react搭建工程1—计数器</title>
    <link href="http://106.15.95.246/2017/07/04/%E6%80%8E%E4%B9%88%E4%BD%BF%E7%94%A8react%E6%90%AD%E5%BB%BA%E5%B7%A5%E7%A8%8B1%E2%80%94%E8%AE%A1%E6%95%B0%E5%99%A8/"/>
    <id>http://106.15.95.246/2017/07/04/怎么使用react搭建工程1—计数器/</id>
    <published>2017-07-04T05:17:44.000Z</published>
    <updated>2017-07-04T07:26:29.767Z</updated>
    
    <content type="html"><![CDATA[<p>react配合redux搭建最简单的应用——计数器。<br><a id="more"></a><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div></pre></td><td class="code"><pre><div class="line">import React, &#123; Component &#125; from <span class="string">'react'</span></div><div class="line">import PropTypes from <span class="string">'prop-types'</span></div><div class="line">import ReactDOM from <span class="string">'react-dom'</span></div><div class="line">import &#123; createStore &#125; from <span class="string">'redux'</span></div><div class="line">import &#123; Provider, connect &#125; from <span class="string">'react-redux'</span></div><div class="line"></div><div class="line">/* 无状态页面组件 */</div><div class="line">// 组件只需要两种来源于props的变量</div><div class="line">// 一个是来自于store的state</div><div class="line">// 一个来源事件句柄</div><div class="line">class Counter extends Component &#123;</div><div class="line">  <span class="function"><span class="title">render</span></span>() &#123;</div><div class="line">    const &#123; value, onIncreaseClick &#125; = this.props</div><div class="line">    <span class="built_in">return</span> (</div><div class="line">      &lt;div&gt;</div><div class="line">        &lt;span&gt;&#123;value&#125;&lt;/span&gt;</div><div class="line">        &lt;button onClick=&#123;onIncreaseClick&#125;&gt;Increase&lt;/button&gt;</div><div class="line">      &lt;/div&gt;</div><div class="line">    )</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Counter.propTypes = &#123;</div><div class="line">  value: PropTypes.number.isRequired,</div><div class="line">  onIncreaseClick: PropTypes.func.isRequired</div><div class="line">&#125;</div><div class="line"></div><div class="line">/* 页面业务逻辑 */</div><div class="line">// 数据关联store.state中储存的值</div><div class="line"><span class="keyword">function</span> mapStateToProps(state) &#123;</div><div class="line">  <span class="built_in">return</span> &#123;</div><div class="line">    value: state.count</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">// 事件句柄与Reducer关联</div><div class="line"><span class="keyword">function</span> mapDispatchToProps(dispatch) &#123;</div><div class="line">  <span class="built_in">return</span> &#123;</div><div class="line">    onIncreaseClick: () =&gt; dispatch(&#123; <span class="built_in">type</span>: <span class="string">'increase'</span> &#125;)</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">// 将数据、方法与组件关联起来</div><div class="line">const App = connect(</div><div class="line">  mapStateToProps,</div><div class="line">  mapDispatchToProps</div><div class="line">)(Counter)</div><div class="line"></div><div class="line"></div><div class="line">// Reducer同步处理</div><div class="line"><span class="keyword">function</span> counter(state = &#123; count: 0 &#125;, action) &#123;</div><div class="line">  const count = state.count</div><div class="line">  switch (action.type) &#123;</div><div class="line">    <span class="keyword">case</span> <span class="string">'increase'</span>:</div><div class="line">      <span class="built_in">return</span> &#123; count: count + 1 &#125;</div><div class="line">    default:</div><div class="line">      <span class="built_in">return</span> state</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">// Store:将Reducer同步处理的state存在store中</div><div class="line">const store = createStore(counter)</div><div class="line"></div><div class="line"></div><div class="line">ReactDOM.render(</div><div class="line">  &lt;Provider store=&#123;store&#125;&gt;</div><div class="line">    &lt;App /&gt;</div><div class="line">  &lt;/Provider&gt;,</div><div class="line">  document.getElementById(<span class="string">'root'</span>)</div><div class="line">)</div><div class="line"></div><div class="line">/* 代码来源阮一峰先生*/</div></pre></td></tr></table></figure></p>
<p>基于以上代码，我们可以清楚看清楚react的数据流。</p>
<blockquote>
<p>Component （事件）-&gt; 句柄或异步请求 -&gt; Reducer -&gt; store -&gt; (state)Component</p>
</blockquote>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;react配合redux搭建最简单的应用——计数器。&lt;br&gt;
    
    </summary>
    
      <category term="react" scheme="http://106.15.95.246/categories/react/"/>
    
    
      <category term="javascript" scheme="http://106.15.95.246/tags/javascript/"/>
    
      <category term="react" scheme="http://106.15.95.246/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>http协议</title>
    <link href="http://106.15.95.246/2017/07/03/http%E5%8D%8F%E8%AE%AE/"/>
    <id>http://106.15.95.246/2017/07/03/http协议/</id>
    <published>2017-07-03T06:01:44.000Z</published>
    <updated>2017-07-03T09:09:07.944Z</updated>
    
    <content type="html"><![CDATA[<p>超文本传输协议（HTTP，HyperText Transfer Protocol)是互联网上应用最为广泛的一种网络协议。<br>HTTP是一个客户端和服务器端请求和应答的标准（TCP）。<br><a id="more"></a></p>
<h4 id="版本"><a href="#版本" class="headerlink" title="版本"></a>版本</h4><p>HTTP/1.0　这是第一个在通讯中指定版本号的HTTP 协议版本，至今仍被广泛采用，特别是在代理服务器中。<br>HTTP/1.1　当前版本。持久连接被默认采用，并能很好地配合代理服务器工作。还支持以管道方式同时发送多个请求，以便降低线路负载，提高传输速度。<br>HTTP/1.1相较于 HTTP/1.0 协议的区别主要体现在：<br>    1 缓存处理<br>    2 带宽优化及网络连接的使用<br>    3 错误通知的管理<br>    4 消息在网络中的发送<br>    5 互联网地址的维护<br>    6 安全性及完整性</p>
<p>HTTP/2.0 协议目标<br>    1 异步连接多路复用；<br>    2 头部压缩；<br>    3 请求/响应管线化；<br>    4 服务器推送流（即Server Push技术）；</p>
<h4 id="http特点"><a href="#http特点" class="headerlink" title="http特点"></a>http特点</h4><p>1、简单快速：客户向服务器请求服务时，只需传送请求方法和路径。请求方法常用的有GET、HEAD、POST。每种方法规定了客户与服务器联系的类型不同。由于HTTP协议简单，使得HTTP服务器的程序规模小，因而通信速度很快。<br>2、灵活：HTTP允许传输任意类型的数据对象。正在传输的类型由Content-Type加以标记。<br>3、无连接：无连接的含义是限制每次连接只处理一个请求。服务器处理完客户的请求，并收到客户的应答后，即断开连接。采用这种方式可以节省传输时间。<br>4、无状态：HTTP协议是无状态协议。无状态是指协议对于事务处理没有记忆能力。缺少状态意味着如果后续处理需要前面的信息，则它必须重传，这样可能导致每次连接传送的数据量增大。另一方面，在服务器不需要先前信息时它的应答就较快。<br>5、支持B/S及C/S模式。</p>
<h4 id="http缺点与https"><a href="#http缺点与https" class="headerlink" title="http缺点与https"></a>http缺点与https</h4><p>a、通信使用明文不加密，内容可能被窃听，也就是被抓包分析。<br>b、不验证通信方身份，可能遭到伪装<br>c、无法验证报文完整性，可能被篡改<br>HTTPS就是HTTP加上加密处理（一般是SSL安全通信线路）+认证+完整性保护</p>
<h4 id="报头"><a href="#报头" class="headerlink" title="报头"></a>报头</h4><p>HTTP消息报头包括通用报头、请求报头、响应报头、实体报头。</p>
<p>1、通用报头</p>
<p>Cache-Control用于指定缓存指令，缓存指令是单向的（响应中出现的缓存指令在请求中未必会出现），且是独立的（一个消息的缓存指令不会影响另一个消息处理的缓存机制），HTTP1.0使用的类似的报头域为Pragma。<br>请求时的缓存指令包括：no-cache（用于指示请求或响应消息不能缓存）、no-store、max-age、max-stale、min-fresh、only-if-cached;<br>响应时的缓存指令包括：public、private、no-cache、no-store、no-transform、must-revalidate、proxy-revalidate、max-age、s-maxage.<br>Date普通报头域表示消息产生的日期和时间<br>Connection普通报头域允许发送指定连接的选项。例如指定连接是连续，或者指定“close”选项，通知服务器，在响应完成后，关闭连接</p>
<p>2、请求报头<br>请求报头允许客户端向服务器端传递请求的附加信息以及客户端自身的信息。<br>常用的请求报头<br>Accept请求报头域用于指定客户端接受哪些类型的信息。eg：Accept：image/gif，表明客户端希望接受GIF图象格式的资源；Accept：text/html，表明客户端希望接受html文本。<br>Accept-Charset请求报头域用于指定客户端接受的字符集。eg：Accept-Charset:iso-8859-1,gb2312.如果在请求消息中没有设置这个域，缺省是任何字符集都可以接受。<br>Accept-Encoding请求报头域类似于Accept，但是它是用于指定可接受的内容编码。eg：Accept-Encoding:gzip.deflate.如果请求消息中没有设置这个域服务器假定客户端对各种内容编码都可以接受。<br>Accept-Language请求报头域类似于Accept，但是它是用于指定一种自然语言。eg：Accept-Language:zh-cn.如果请求消息中没有设置这个报头域，服务器假定客户端对各种语言都可以接受。<br>Authorization请求报头域主要用于证明客户端有权查看某个资源。当浏览器访问一个页面时，如果收到服务器的响应代码为401（未授权），可以发送一个包含Authorization请求报头域的请求，要求服务器对其进行验证。<br>Host请求报头域主要用于指定被请求资源的Internet主机和端口号，它通常从HTTP URL中提取出来的，eg：<br>User-Agent请求报头域允许客户端将它的操作系统、浏览器和其它属性告诉服务器。</p>
<pre><code>eg：
GET /form.html HTTP/1.1 (CRLF)
Accept:image/gif,image/x-xbitmap,image/jpeg,application/x-shockwave-flash,application/vnd.ms-excel,application/vnd.ms-powerpoint,application/msword,*/* (CRLF)
Accept-Language:zh-cn (CRLF)
Accept-Encoding:gzip,deflate (CRLF)
If-Modified-Since:Wed,05 Jan 2007 11:21:25 GMT (CRLF)
If-None-Match:W/&quot;80b1a4c018f3c41:8317&quot; (CRLF)
User-Agent:Mozilla/4.0(compatible;MSIE6.0;Windows NT 5.0) (CRLF)
Host:www.guet.edu.cn (CRLF)
Connection:Keep-Alive (CRLF)
(CRLF)
</code></pre><p>3、响应报头<br>响应报头允许服务器传递不能放在状态行中的附加响应信息，以及关于服务器的信息和对Request-URI所标识的资源进行下一步访问的信息。<br>Location响应报头域用于重定向接受者到一个新的位置。Location响应报头域常用在更换域名的时候。<br>Server响应报头域包含了服务器用来处理请求的软件信息。与User-Agent请求报头域是相对应的。Server：Apache-Coyote/1.1<br>WWW-Authenticate响应报头域必须被包含在401（未授权的）响应消息中，客户端收到401响应消息时候，并发送Authorization报头域请求服务器对其进行验证时，服务端响应报头就包含该报头域。</p>
<p>4、实体报头<br>请求和响应消息都可以传送一个实体。一个实体由实体报头域和实体正文组成，但并不是说实体报头域和实体正文要在一起发送，可以只发送实体报头域。实体报头定义了关于实体正文（eg：有无实体正文）和请求所标识的资源的元信息。<br>Content-Encoding实体报头域被用作媒体类型的修饰符，它的值指示了已经被应用到实体正文的附加内容的编码，因而要获得Content-Type报头域中所引用的媒体类型，必须采用相应的解码机制。Content-Encoding这样用于记录文档的压缩方法，eg：Content-Encoding：gzip<br>Content-Language实体报头域描述了资源所用的自然语言。没有设置该域则认为实体内容将提供给所有的语言阅读者。<br>Content-Length实体报头域用于指明实体正文的长度，以字节方式存储的十进制数字来表示。<br>Content-Type实体报头域用语指明发送给接收者的实体正文的媒体类型。<br>Last-Modified实体报头域用于指示资源的最后修改日期和时间。<br>Expires实体报头域给出响应过期的日期和时间。为了让代理服务器或浏览器在一段时间以后更新缓存中(再次访问曾访问过的页面时，直接从缓存中加载，缩短响应时间和降低服务器负载)的页面，我们可以使用Expires实体报头域指定页面过期的时间。eg：Expires：Thu，15 Sep 2006 16:23:12 GMT</p>
<h4 id="HTTP协议相关技术"><a href="#HTTP协议相关技术" class="headerlink" title="HTTP协议相关技术"></a>HTTP协议相关技术</h4><p> 1、基础：<br>    高层协议有：文件传输协议FTP、电子邮件传输协议SMTP、域名系统服务DNS、网络新闻传输协议NNTP和HTTP协议等<br> 中介由三种：代理(Proxy)、网关(Gateway)和通道(Tunnel)，一个代理根据URI的绝对格式来接受请求，重写全部或部分消息，通过 URI的标识把已格式化过的请求发送到服务器。网关是一个接收代理，作为一些其它服务器的上层，并且如果必须的话，可以把请求翻译给下层的服务器协议。一 个通道作为不改变消息的两个连接之间的中继点。当通讯需要通过一个中介(例如：防火墙等)或者是中介不能识别消息的内容时，通道经常被使用。<br>    代理(Proxy)：一个中间程序，它可以充当一个服务器，也可以充当一个客户机，为其它客户机建立请求。请求是通过可能的翻译在内部或经过传递到其它的 服务器中。一个代理在发送请求信息之前，必须解释并且如果可能重写它。代理经常作为通过防火墙的客户机端的门户，代理还可以作为一个帮助应用来通过协议处 理没有被用户代理完成的请求。<br> 网关(Gateway)：一个作为其它服务器中间媒介的服务器。与代理不同的是，网关接受请求就好象对被请求的资源来说它就是源服务器；发出请求的客户机并没有意识到它在同网关打交道。<br> 网关经常作为通过防火墙的服务器端的门户，网关还可以作为一个协议翻译器以便存取那些存储在非HTTP系统中的资源。<br>    通道(Tunnel)：是作为两个连接中继的中介程序。一旦激活，通道便被认为不属于HTTP通讯，尽管通道可能是被一个HTTP请求初始化的。当被中继 的连接两端关闭时，通道便消失。当一个门户(Portal)必须存在或中介(Intermediary)不能解释中继的通讯时通道被经常使用。</p>
<p> 2、协议分析的优势—HTTP分析器检测网络攻击<br> 以模块化的方式对高层协议进行分析处理，将是未来入侵检测的方向。<br> HTTP及其代理的常用端口80、3128和8080在network部分用port标签进行了规定</p>
<p> 3、HTTP协议Content Lenth限制漏洞导致拒绝服务攻击<br> 使用POST方法时，可以设置ContentLenth来定义需要传送的数据长度，例如ContentLenth:999999999，在传送完成前，内 存不会释放，攻击者可以利用这个缺陷，连续向WEB服务器发送垃圾数据直至WEB服务器内存耗尽。这种攻击方法基本不会留下痕迹。</p>
<p> 4、利用HTTP协议的特性进行拒绝服务攻击的一些构思<br> 服务器端忙于处理攻击者伪造的TCP连接请求而无暇理睬客户的正常请求（毕竟客户端的正常请求比率非常之小），此时从正常客户的角度看来，服务器失去响应，这种情况我们称作：服务器端受到了SYNFlood攻击（SYN洪水攻击）。<br> 而Smurf、TearDrop等是利用ICMP报文来Flood和IP碎片攻击的。本文用“正常连接”的方法来产生拒绝服务攻击。<br> 19端口在早期已经有人用来做Chargen攻击了，即Chargen_Denial_of_Service，但是！他们用的方法是在两台Chargen 服务器之间产生UDP连接，让服务器处理过多信息而DOWN掉，那么，干掉一台WEB服务器的条件就必须有2个：1.有Chargen服务2.有HTTP 服务<br> 方法：攻击者伪造源IP给N台Chargen发送连接请求（Connect），Chargen接收到连接后就会返回每秒72字节的字符流（实际上根据网络实际情况，这个速度更快）给服务器。</p>
<p> 5、Http指纹识别技术<br>    Http指纹识别的原理大致上也是相同的：记录不同服务器对Http协议执行中的微小差别进行识别.Http指纹识别比TCP/IP堆栈指纹识别复杂许 多,理由是定制Http服务器的配置文件、增加插件或组件使得更改Http的响应信息变的很容易,这样使得识别变的困难；然而定制TCP/IP堆栈的行为 需要对核心层进行修改,所以就容易识别.<br> 要让服务器返回不同的Banner信息的设置是很简单的,象Apache这样的开放源代码的Http服务器,用户可以在源代码里修改Banner信息,然 后重起Http服务就生效了；对于没有公开源代码的Http服务器比如微软的IIS或者是Netscape,可以在存放Banner信息的Dll文件中修 改,相关的文章有讨论的,这里不再赘述,当然这样的修改的效果还是不错的.另外一种模糊Banner信息的方法是使用插件。<br> 常用测试请求：<br> 1：HEAD/Http/1.0发送基本的Http请求<br> 2：DELETE/Http/1.0发送那些不被允许的请求,比如Delete请求<br> 3：GET/Http/3.0发送一个非法版本的Http协议请求<br> 4：GET/JUNK/1.0发送一个不正确规格的Http协议请求<br> Http指纹识别工具Httprint,它通过运用统计学原理,组合模糊的逻辑学技术,能很有效的确定Http服务器的类型.它可以被用来收集和分析不同Http服务器产生的签名。</p>
<p> 6、其他：为了提高用户使用浏览器时的性能，现代浏览器还支持并发的访问方式，浏览一个网页时同时建立多个连接，以迅速获得一个网页上的多个图标，这样能更快速完成整个网页的传输。<br> HTTP1.1中提供了这种持续连接的方式，而下一代HTTP协议：HTTP-NG更增加了有关会话控制、丰富的内容协商等方式的支持，来提供<br> 更高效率的连接。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;超文本传输协议（HTTP，HyperText Transfer Protocol)是互联网上应用最为广泛的一种网络协议。&lt;br&gt;HTTP是一个客户端和服务器端请求和应答的标准（TCP）。&lt;br&gt;
    
    </summary>
    
      <category term="通信" scheme="http://106.15.95.246/categories/%E9%80%9A%E4%BF%A1/"/>
    
    
      <category term="通信" scheme="http://106.15.95.246/tags/%E9%80%9A%E4%BF%A1/"/>
    
      <category term="http" scheme="http://106.15.95.246/tags/http/"/>
    
  </entry>
  
  <entry>
    <title>实现全屏</title>
    <link href="http://106.15.95.246/2017/07/02/%E5%AE%9E%E7%8E%B0%E5%85%A8%E5%B1%8F/"/>
    <id>http://106.15.95.246/2017/07/02/实现全屏/</id>
    <published>2017-07-02T06:48:02.000Z</published>
    <updated>2017-07-02T09:24:32.237Z</updated>
    
    <content type="html"><![CDATA[<p>代码实现全屏ie10以下可以使用ActiveXObject。ie11的msRequestFullScreen鉴定无效。其他浏览器可以使用专用方法进行全屏。<br><a id="more"></a><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line"><span class="keyword">function</span> <span class="function"><span class="title">fullScreen</span></span>()&#123;</div><div class="line">	var el = document.documentElement;</div><div class="line">    var rfs = el.requestFullScreen  //w3c</div><div class="line">    || el.webkitRequestFullScreen   //webkit</div><div class="line">    || el.mozRequestFullScreen      //firefox</div><div class="line">    || el.msRequestFullScreen;      //IE11下这个方法没用</div><div class="line">    <span class="keyword">if</span> (typeof rfs != <span class="string">"undefined"</span> &amp;&amp; rfs) &#123;</div><div class="line">        rfs.call(el);</div><div class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (typeof window.ActiveXObject != <span class="string">"undefined"</span>) &#123;</div><div class="line">    //ie10以下</div><div class="line">        var wscript = new ActiveXObject(<span class="string">"WScript.Shell"</span>);</div><div class="line">        <span class="keyword">if</span> (wscript != null) &#123;</div><div class="line">            wscript.SendKeys(<span class="string">"&#123;F11&#125;"</span>);</div><div class="line">        &#125;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        alert(<span class="string">"请手动F11，展开全屏"</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">//退出全屏</div><div class="line"><span class="keyword">function</span> <span class="function"><span class="title">fullExit</span></span>()&#123;</div><div class="line">  var element= document.documentElement;</div><div class="line">  //IE ActiveXObject</div><div class="line">  <span class="keyword">if</span> (window.ActiveXObject)</div><div class="line">  &#123;</div><div class="line">    var WsShell = new ActiveXObject(<span class="string">'WScript.Shell'</span>) </div><div class="line">    WsShell.SendKeys(<span class="string">'&#123;F11&#125;'</span>); </div><div class="line">  &#125;</div><div class="line">  //HTML5 W3C 提议</div><div class="line">  <span class="keyword">else</span> <span class="keyword">if</span>(element.requestFullScreen) &#123;  </div><div class="line">    document.exitFullscreen();</div><div class="line">  &#125;</div><div class="line"> //IE 11</div><div class="line">  <span class="keyword">else</span> <span class="keyword">if</span>(element.msRequestFullscreen) &#123;  </div><div class="line">    document.msExitFullscreen();</div><div class="line">  &#125;</div><div class="line">  // Webkit (works <span class="keyword">in</span> Safari5.1 and Chrome 15)</div><div class="line">  <span class="keyword">else</span> <span class="keyword">if</span>(element.webkitRequestFullScreen ) &#123;  </div><div class="line">    document.webkitCancelFullScreen(); </div><div class="line">  &#125; </div><div class="line">  // Firefox (works <span class="keyword">in</span> nightly)</div><div class="line">  <span class="keyword">else</span> <span class="keyword">if</span>(element.mozRequestFullScreen) &#123;  </div><div class="line">    document.mozCancelFullScreen();  </div><div class="line">  &#125; </div><div class="line">&#125;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;代码实现全屏ie10以下可以使用ActiveXObject。ie11的msRequestFullScreen鉴定无效。其他浏览器可以使用专用方法进行全屏。&lt;br&gt;
    
    </summary>
    
      <category term="前端" scheme="http://106.15.95.246/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="html" scheme="http://106.15.95.246/tags/html/"/>
    
      <category term="javascript" scheme="http://106.15.95.246/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>复制到剪切板</title>
    <link href="http://106.15.95.246/2017/07/02/%E5%A4%8D%E5%88%B6%E5%88%B0%E5%89%AA%E5%88%87%E6%9D%BF/"/>
    <id>http://106.15.95.246/2017/07/02/复制到剪切板/</id>
    <published>2017-07-02T06:46:59.000Z</published>
    <updated>2017-07-02T08:19:07.876Z</updated>
    
    <content type="html"><![CDATA[<h4 id="1-通用的复制方法"><a href="#1-通用的复制方法" class="headerlink" title="1.通用的复制方法"></a>1.通用的复制方法</h4><p>使用浏览器器自带的复制功能。选中，然后复制。<br>该方法在代码层面只支持input、textarea等表单元素的复制。<br>所以需要将元素中的文本设置到一个textarea中。textarea必须窗口可见。<br><a id="more"></a><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&lt;script <span class="built_in">type</span>=<span class="string">"text/javascript"</span>&gt;</div><div class="line"><span class="keyword">function</span> <span class="function"><span class="title">copyUrl2</span></span>()</div><div class="line">&#123;</div><div class="line">var Url2=document.getElementById(<span class="string">"biao1"</span>);</div><div class="line">Url2.select(); // 选择对象</div><div class="line">document.execCommand(<span class="string">"Copy"</span>); // 执行浏览器复制命令</div><div class="line">alert(<span class="string">"已复制好，可贴粘。"</span>);</div><div class="line">&#125;</div><div class="line">&lt;/script&gt;</div><div class="line">&lt;textarea cols=<span class="string">"20"</span> rows=<span class="string">"10"</span> id=<span class="string">"biao1"</span>&gt;用户定义的代码区域&lt;/textarea&gt;</div><div class="line">&lt;input <span class="built_in">type</span>=<span class="string">"button"</span> onClick=<span class="string">"copyUrl2()"</span> value=<span class="string">"点击复制代码"</span> /&gt;</div></pre></td></tr></table></figure></p>
<h4 id="2-IE中的复制"><a href="#2-IE中的复制" class="headerlink" title="2.IE中的复制"></a>2.IE中的复制</h4><p>IE中针对复制的方法有2种。</p>
<h5 id="复制span中的文本"><a href="#复制span中的文本" class="headerlink" title="复制span中的文本"></a>复制span中的文本</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&lt;span onClick=<span class="string">"copyText(this)"</span>&gt;点我复制我&lt;/span&gt;</div><div class="line">&lt;script <span class="built_in">type</span>=<span class="string">"text/javascript"</span>&gt;</div><div class="line"><span class="keyword">function</span> copyText(obj) &#123;</div><div class="line">    var rng = document.body.createTextRange();</div><div class="line">    rng.moveToElementText(obj);</div><div class="line">    rng.scrollIntoView();</div><div class="line">    rng.select();</div><div class="line">    rng.execCommand(<span class="string">"Copy"</span>);</div><div class="line">    rng.collapse(<span class="literal">false</span>);</div><div class="line">    alert(<span class="string">"复制成功!"</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h5 id="复制locationURL地址"><a href="#复制locationURL地址" class="headerlink" title="复制locationURL地址"></a>复制locationURL地址</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&lt;input <span class="built_in">type</span>=<span class="string">"button"</span> name=<span class="string">"anniu2"</span> onClick=<span class="string">'copyUrl()'</span> value=<span class="string">"复制URL地址"</span>&gt;</div><div class="line">&lt;script language=<span class="string">"javascript"</span>&gt;</div><div class="line"><span class="keyword">function</span> <span class="function"><span class="title">copyUrl</span></span>()&#123;</div><div class="line">    var clipBoardContent=this.location.href;</div><div class="line">    window.clipboardData.setData(<span class="string">"Text"</span>,clipBoardContent);</div><div class="line">    alert(<span class="string">"复制成功!"</span>);</div><div class="line">&#125;</div><div class="line">&lt;/script&gt;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<p>综上所述，代码层面的页面复制有两种实现方法，一种的IE所支持的window.clipboardData的setData方法，一种是比较通用的针对表单元素input、textarea的document.execCommand(“Copy”)方法。</p>
]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;1-通用的复制方法&quot;&gt;&lt;a href=&quot;#1-通用的复制方法&quot; class=&quot;headerlink&quot; title=&quot;1.通用的复制方法&quot;&gt;&lt;/a&gt;1.通用的复制方法&lt;/h4&gt;&lt;p&gt;使用浏览器器自带的复制功能。选中，然后复制。&lt;br&gt;该方法在代码层面只支持input、textarea等表单元素的复制。&lt;br&gt;所以需要将元素中的文本设置到一个textarea中。textarea必须窗口可见。&lt;br&gt;
    
    </summary>
    
      <category term="前端" scheme="http://106.15.95.246/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="html" scheme="http://106.15.95.246/tags/html/"/>
    
      <category term="javascript" scheme="http://106.15.95.246/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>jsonp</title>
    <link href="http://106.15.95.246/2017/07/02/jsonp/"/>
    <id>http://106.15.95.246/2017/07/02/jsonp/</id>
    <published>2017-07-02T05:32:48.000Z</published>
    <updated>2017-07-02T05:53:27.784Z</updated>
    
    <content type="html"><![CDATA[<p>JSONP(JSON with Padding)是JSON的一种“使用模式”，可用于解决主流浏览器的跨域数据访问的问题。由于同源策略，一般来说位于 server1.example.com 的网页无法与不是 server1.example.com的服务器沟通，而 HTML 的&lt;script&gt;元素是一个例外。利用 &lt;script&gt;元素的这个开放策略，网页可以得到从其他来源动态产生的 JSON 资料，而这种使用模式就是所谓的 JSONP。用 JSONP 抓到的资料并不是 JSON，而是任意的JavaScript，用 JavaScript 直译器执行而不是用 JSON 解析器解析。<br><a id="more"></a></p>
<h2 id="Jsonp原理"><a href="#Jsonp原理" class="headerlink" title="Jsonp原理"></a>Jsonp原理</h2><p>在客户端定义一个callbackFunction, 然后把callbackFunction的名字传给服务器。</p>
<p>服务器先生成 json 数据。然后以 javascript 语法的方式，生成一个function , function 名字就是传递上来的参数 jsonp的值.</p>
<p>最后将 json 数据直接以入参的方式，放置到 function 中，这样就生成了一段 js 语法的文档，返回给客户端。</p>
<p>客户端浏览器，解析script标签，并执行返回的 javascript 文档，此时数据作为参数，传入到了客户端预先定义好的 callbackFunction 函数里.（动态执行回调函数）</p>
<h2 id="服务器端对JSONP支持"><a href="#服务器端对JSONP支持" class="headerlink" title="服务器端对JSONP支持"></a>服务器端对JSONP支持</h2><p>请求： <a href="http://example.com/servlet?jsonp=callbackFunction。" target="_blank" rel="external">http://example.com/servlet?jsonp=callbackFunction。</a><br>期望数据：[“param1”,”param2”]<br>前段通过&lt;script&gt;加载文档并调用。实现callbackFunction函数调用</p>
<p>Java:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">return</span> request.getParameter(<span class="string">"callbackFunction"</span>)+<span class="string">"("</span>+JsonString+<span class="string">")"</span>;</div></pre></td></tr></table></figure></p>
<p>返回内容像：callbackFunction([“param1”,”param2”])</p>
<h2 id="客户端实现跨域请求"><a href="#客户端实现跨域请求" class="headerlink" title="客户端实现跨域请求"></a>客户端实现跨域请求</h2><p>在客户端调用提供JSONP支持的URL Service，获取JSONP格式数据。</p>
<h3 id="创建script标签"><a href="#创建script标签" class="headerlink" title="创建script标签"></a>创建script标签</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var head= document.getElementsByTagName(<span class="string">'head'</span>)[0]; </div><div class="line">var script= document.createElement(<span class="string">'script'</span>); </div><div class="line">script.type= <span class="string">'text/javascript'</span>; </div><div class="line">script.src= <span class="string">'http://example.com/servlet?jsonp=callbackFunction'</span>; </div><div class="line">head.appendChild(script);</div></pre></td></tr></table></figure>
<p>结果：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;</div><div class="line">	...</div><div class="line">	&lt;script <span class="built_in">type</span>=<span class="string">"text/javascript"</span> src=<span class="string">"http://example.com/servlet?jsonp=callbackFunction"</span>&gt;&lt;/script&gt;</div><div class="line">&lt;/head&gt;</div></pre></td></tr></table></figure></p>
<h3 id="客户端实现-callbackFunction-函数-全局"><a href="#客户端实现-callbackFunction-函数-全局" class="headerlink" title="客户端实现 callbackFunction 函数(全局)"></a>客户端实现 callbackFunction 函数(全局)</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">function</span> callbackFunction(result) &#123;  </div><div class="line">    <span class="keyword">for</span>(var i <span class="keyword">in</span> result) &#123;  </div><div class="line">        alert(i+<span class="string">":"</span>+result[i]); </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="监听jsonp"><a href="#监听jsonp" class="headerlink" title="监听jsonp"></a>监听jsonp</h2><p>Jsonp本质上就是一个异步的get请求，但是他跟ajax理论上毫无关联。<br>创建的script标签加载过程中同样拥有onreadystatechange事件与onload事件，同样也拥有onerror事件。我们可以通过这些来观察jsonp回调。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">&lt;script <span class="built_in">type</span>=<span class="string">"text/javascript"</span>&gt;</div><div class="line">	var head= document.getElementsByTagName(<span class="string">'head'</span>)[0]; </div><div class="line">	var script= document.createElement(<span class="string">'script'</span>); </div><div class="line">	script.type= <span class="string">'text/javascript'</span>; </div><div class="line">	script.onload = script.onreadystatechange = <span class="function"><span class="title">function</span></span>() &#123; </div><div class="line">		<span class="keyword">if</span> (!this.readyState || this.readyState === <span class="string">"loaded"</span> || this.readyState === <span class="string">"complete"</span> ) &#123; </div><div class="line">			alert(<span class="string">'加载成功'</span>)</div><div class="line">			script.onload = script.onreadystatechange = null; </div><div class="line">		&#125; </div><div class="line">	&#125;; </div><div class="line">	script.onerror = <span class="function"><span class="title">function</span></span>()&#123;</div><div class="line">		alert(<span class="string">'加载失败'</span>)</div><div class="line">	&#125;</div><div class="line">	script.src= <span class="string">'jsonp.js'</span>; </div><div class="line">	head.appendChild(script); </div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure></p>
<p>除此之外，考虑到安全问题，我们可以通过使用正则表达式检查 JSON 字符。</p>
<p>js代码<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var my_JSON_object = !(/[^,:&#123;&#125;\[\]0-9.\-+Eaeflnr-u \n\r\t]/.<span class="built_in">test</span>(text.replace(/<span class="string">"(\\.|[^"</span>\\])*<span class="string">"/g, ' '))) &amp;&amp; eval('(' + text + ')');</span></div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      数据交互与dom操作并列前端两大基石
    
    </summary>
    
      <category term="前端" scheme="http://106.15.95.246/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="javascript" scheme="http://106.15.95.246/tags/javascript/"/>
    
      <category term="跨域" scheme="http://106.15.95.246/tags/%E8%B7%A8%E5%9F%9F/"/>
    
  </entry>
  
  <entry>
    <title>form对象</title>
    <link href="http://106.15.95.246/2017/07/02/form%E5%AF%B9%E8%B1%A1/"/>
    <id>http://106.15.95.246/2017/07/02/form对象/</id>
    <published>2017-07-02T05:32:00.000Z</published>
    <updated>2017-07-02T05:53:35.304Z</updated>
    
    <content type="html"><![CDATA[<p>&lt;form&gt; 标签用于为用户输入创建 HTML 表单。<br>表单能够包含 input 元素，比如文本字段、复选框、单选框、提交按钮等等。<br>表单还可以包含 menus、textarea、fieldset、legend 和 label 元素。<br>表单用于向服务器传输数据。<br><a id="more"></a></p>
<h2 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;form action=<span class="string">"url"</span> enctype=<span class="string">"multipart/form-data"</span> name=<span class="string">"form1"</span> target=<span class="string">"_blank"</span> method=<span class="string">"get"</span> &gt;</div><div class="line">  &lt;p&gt;First name: &lt;input <span class="built_in">type</span>=<span class="string">"text"</span> name=<span class="string">"fname"</span> /&gt;&lt;/p&gt;</div><div class="line">  &lt;p&gt;Last name: &lt;input <span class="built_in">type</span>=<span class="string">"text"</span> name=<span class="string">"lname"</span> /&gt;&lt;/p&gt;</div><div class="line">  &lt;input <span class="built_in">type</span>=<span class="string">"submit"</span> value=<span class="string">"Submit"</span> /&gt;</div><div class="line">&lt;/form&gt;</div></pre></td></tr></table></figure>
<h2 id="form元素属性"><a href="#form元素属性" class="headerlink" title="form元素属性"></a>form元素属性</h2><table class="table table-bordered table-striped table-condensed"><tr><th>属性</th><th>值</th><th>描述</th></tr><tr><td>accept-charset</td><td>charset_list</td><td>规定服务器可处理的表单数据字符集。</td></tr><tr><td>action</td><td>URL</td><td>规定当提交表单时向何处发送表单数据。</td></tr><tr><td rowspan="2">autocomplete</td><td>on</td><td rowspan="2">规定是否启用表单的自动完成功能。</td></tr><tr><td>off</td></tr><tr><td rowspan="2">method</td><td>get</td><td rowspan="2">规定用于发送 form-data 的 HTTP 方法。</td></tr><tr><td>post</td></tr><tr><td>name</td><td>form_name</td><td>规定表单的名称。</td></tr><tr><td rowspan="5">target</td><td>_blank</td><td rowspan="5">规定在何处打开 action URL。</td></tr><tr><td>_self</td></tr><tr><td>_parent</td></tr><tr><td>_top</td></tr><tr><td>framename</td></tr><tr><td rowspan="3">enctype</td><td>application/x-www-form-urlencoded</td><td rowspan="3"></td></tr><tr><td>multipart/form-data</td></tr><tr><td>text/plain</td></tr></table>

<h2 id="Form-对象"><a href="#Form-对象" class="headerlink" title="Form 对象"></a>Form 对象</h2><p>Form 对象代表一个 HTML 表单。<br>在 HTML 文档中&lt;form&gt; 每出现一次，Form 对象就会被创建。</p>
<h2 id="Form-对象属性"><a href="#Form-对象属性" class="headerlink" title="Form 对象属性"></a>Form 对象属性</h2><table class="table table-bordered table-striped table-condensed"><tr><th>属性</th><th>描述</th></tr><tr><td>acceptCharset</td><td>服务器可接受的字符集。</td></tr><tr><td>action</td><td>设置或返回表单的 action 属性。</td></tr><tr><td>enctype</td><td>设置或返回表单用来编码内容的 MIME 类型。</td></tr><tr><td>id</td><td>设置或返回表单的 id。</td></tr><tr><td>length</td><td>返回表单中的元素数目。</td></tr><tr><td>method</td><td>设置或返回将数据发送到服务器的 HTTP 方法。</td></tr><tr><td>name</td><td>设置或返回表单的名称。</td></tr><tr><td>target </td><td>设置或返回表单提交结果的 Frame 或 Window 名。</td></tr></table>

<h2 id="Form-对象方法-句柄"><a href="#Form-对象方法-句柄" class="headerlink" title="Form 对象方法/句柄"></a>Form 对象方法/句柄</h2><p>submit()    提交表单。<br>onsubmit    在提交表单之前调用。</p>
]]></content>
    
    <summary type="html">
    
      数据交互与dom操作并列前端两大基石
    
    </summary>
    
      <category term="前端" scheme="http://106.15.95.246/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="html" scheme="http://106.15.95.246/tags/html/"/>
    
  </entry>
  
  <entry>
    <title>threejs基础</title>
    <link href="http://106.15.95.246/2017/06/30/threejs/"/>
    <id>http://106.15.95.246/2017/06/30/threejs/</id>
    <published>2017-06-30T02:07:16.000Z</published>
    <updated>2017-07-05T03:20:53.071Z</updated>
    
    <content type="html"><![CDATA[<p>Threejs中3个基础元素是场景（scene）、相机（camera）和渲染器（renderer）。</p>
<a id="more"></a>
<h4 id="1-场景"><a href="#1-场景" class="headerlink" title="1.场景"></a>1.场景</h4><p>场景是所有物体的容器，用THREE.Scene来表示。</p>
<p>构件一个场景</p>
<pre><code>var scene = new THREE.Scene();
</code></pre><h4 id="2-相机"><a href="#2-相机" class="headerlink" title="2.相机"></a>2.相机</h4><p>相机决定了场景中第一视角的位置。<br>相机的种类：<br>透视相机（THREE.PerspectiveCamera）</p>
<pre><code>var camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
</code></pre><h4 id="3-渲染器"><a href="#3-渲染器" class="headerlink" title="3.渲染器"></a>3.渲染器</h4><p> 渲染器决定了渲染的结果应该画在页面的什么元素上面，并且以怎样的方式来绘制。</p>
<pre><code>var renderer = new THREE.WebGLRenderer();
renderer.setSize(window.innerWidth, window.innerHeight);
document.body.appendChild(renderer.domElement);
</code></pre><h4 id="4-添加物体到场景中"><a href="#4-添加物体到场景中" class="headerlink" title="4.添加物体到场景中"></a>4.添加物体到场景中</h4><pre><code>/*创建一个物体*/
var geometry = new THREE.CubeGeometry(1,1,1); 
var material = new THREE.MeshBasicMaterial({color: 0x00ff00});
/*为物体添加细节*/
var cube = new THREE.Mesh(geometry, material);
/*将物体添加到场景中*/
scene.add(cube);
</code></pre><h4 id="5-渲染"><a href="#5-渲染" class="headerlink" title="5.渲染"></a>5.渲染</h4><pre><code>/*使用渲染器，结合相机和场景*/
renderer.render(scene, camera);
/*渲染函数的原型*/
render( scene, camera, renderTarget, forceClear )
/*
scene：前面定义的场景
camera：前面定义的相机
renderTarget：渲染的目标，默认是渲染到前面定义的render变量中
forceClear：每次绘制之前都将画布的内容给清除，即使自动清除标志autoClear为false，也会清除。
*/
</code></pre><h4 id="6-渲染循环"><a href="#6-渲染循环" class="headerlink" title="6.渲染循环"></a>6.渲染循环</h4><p>渲染有两种方式：实时渲染和离线渲染 。</p>
<pre><code>/*实时渲染（游戏循环）*/
function render() {
    cube.rotation.x += 0.1;
    cube.rotation.y += 0.1;
    renderer.render(scene, camera);
    requestAnimationFrame(render);
}
</code></pre><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html&gt;</div><div class="line">&lt;head&gt;</div><div class="line">    &lt;title&gt;&lt;/title&gt;</div><div class="line">    &lt;style&gt;canvas &#123; width: 100%; height: 100% &#125;&lt;/style&gt;</div><div class="line">    &lt;script src=<span class="string">"js/three.js"</span>&gt;&lt;/script&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">    &lt;script&gt;</div><div class="line">        var scene = new THREE.Scene();</div><div class="line">        </div><div class="line">        var camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);</div><div class="line">        </div><div class="line">        var renderer = new THREE.WebGLRenderer();</div><div class="line">        </div><div class="line">        renderer.setSize(window.innerWidth, window.innerHeight);</div><div class="line">        </div><div class="line">        document.body.appendChild(renderer.domElement);</div><div class="line">        var geometry = new THREE.CubeGeometry(1,1,1);</div><div class="line">        var material = new THREE.MeshBasicMaterial(&#123;color: 0x00ff00&#125;);</div><div class="line">        var cube = new THREE.Mesh(geometry, material); </div><div class="line">        scene.add(cube);</div><div class="line">        camera.position.z = 5;</div><div class="line">        <span class="keyword">function</span> <span class="function"><span class="title">render</span></span>() &#123;</div><div class="line">            requestAnimationFrame(render);</div><div class="line">            cube.rotation.x += 0.1;</div><div class="line">            cube.rotation.y += 0.1;</div><div class="line">            renderer.render(scene, camera);</div><div class="line">        &#125;</div><div class="line">        render();</div><div class="line">    &lt;/script&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Threejs中3个基础元素是场景（scene）、相机（camera）和渲染器（renderer）。&lt;/p&gt;
    
    </summary>
    
      <category term="前端" scheme="http://106.15.95.246/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="javascript" scheme="http://106.15.95.246/tags/javascript/"/>
    
      <category term="webGL" scheme="http://106.15.95.246/tags/webGL/"/>
    
  </entry>
  
  <entry>
    <title>天命无我-起源</title>
    <link href="http://106.15.95.246/2017/01/01/%E5%A4%A9%E5%91%BD%E6%97%A0%E6%88%91-%E8%B5%B7%E6%BA%90/"/>
    <id>http://106.15.95.246/2017/01/01/天命无我-起源/</id>
    <published>2017-01-01T05:47:08.000Z</published>
    <updated>2017-07-05T04:40:49.748Z</updated>
    
    <content type="html"><![CDATA[<p>虚无无极，无形无象。<br>化生一焏是为浑沌。<br>一焏凝形是为元气。元气之间相互吸引、排斥。平衡，使得浑沌静止。<br>元气聚，化成奇点。<br>这一瞬，浑沌的平衡被打破，混乱的能量开始由奇点向外扩散。混乱肆虐，元气湮灭，空间诞生。同时一种排斥的力量伴生，它充斥着空间的每一个角落，随着空间一起壮大，后世的人们称它为时间。<br>宇宙在这一瞬诞生。<br>元气湮灭，三分精气神，精为物，气为质，神为规则。规则由元气而生，万万千千。<br>有一规则名为融合，继承了元气吸引的能力，聚集精气神，许久之后一个微弱的意识诞生了。无序的融合，在意识的指引下变成了有序的行为。融合的意识逐渐强大，终于这个意识有了思考的能力。一个奇妙的波动扩散开来，宇宙中所有规则悸动化形而生。<br>波动到达了宇宙边缘，元气停止湮灭。<br>边缘地带，虚无、混沌、元气相互搅动。<br><a id="more"></a></p>
<h2 id="参考内容："><a href="#参考内容：" class="headerlink" title="参考内容："></a>参考内容：</h2><p><a href="http://baike.baidu.com/view/2192547.htm" target="_blank" rel="external">先天五太</a>分别为：太易、太初、太始，太素、太极</p>
]]></content>
    
    <summary type="html">
    
      对于万物来说，都只配当分母。
    
    </summary>
    
      <category term="天命无我" scheme="http://106.15.95.246/categories/%E5%A4%A9%E5%91%BD%E6%97%A0%E6%88%91/"/>
    
    
      <category term="原创" scheme="http://106.15.95.246/tags/%E5%8E%9F%E5%88%9B/"/>
    
  </entry>
  
  <entry>
    <title>ajax浅析</title>
    <link href="http://106.15.95.246/2016/10/02/ajax%E6%B5%85%E6%9E%90/"/>
    <id>http://106.15.95.246/2016/10/02/ajax浅析/</id>
    <published>2016-10-02T05:32:00.000Z</published>
    <updated>2017-07-06T01:40:15.069Z</updated>
    
    <content type="html"><![CDATA[<!-- toc -->
<p>AJAX即“Asynchronous Javascript And XML”（异步JavaScript和XML），是指一种创建交互式网页应用的网页开发技术。<br>AJAX = 异步 JavaScript和XML（标准通用标记语言的子集）。<br>AJAX 是一种用于创建快速动态网页的技术。<br>通过在后台与服务器进行少量数据交换，AJAX 可以使网页实现异步更新。这意味着可以在不重新加载整个网页的情况下，对网页的某部分进行更新。<br><a id="more"></a></p>
<h2 id="XMLHttpRequest-是-AJAX-的基础"><a href="#XMLHttpRequest-是-AJAX-的基础" class="headerlink" title="XMLHttpRequest 是 AJAX 的基础"></a>XMLHttpRequest 是 AJAX 的基础</h2><p>注：IE5 和 IE6 使用 ActiveXObject。</p>
<h2 id="创建-XMLHttpRequest-对象"><a href="#创建-XMLHttpRequest-对象" class="headerlink" title="创建 XMLHttpRequest 对象"></a>创建 XMLHttpRequest 对象</h2><p>所有现代浏览器（IE7+、Firefox、Chrome、Safari 以及 Opera）均内建 XMLHttpRequest 对象。<br>创建 XMLHttpRequest 对象的语法：</p>
<blockquote>
<p>var variable=new XMLHttpRequest();</p>
</blockquote>
<p>Internet Explorer （IE5 和 IE6）使用 ActiveX 对象：</p>
<blockquote>
<p>var variable=new ActiveXObject(“Microsoft.XMLHTTP”);</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">//创建</div><div class="line">var xmlhttp;</div><div class="line"><span class="keyword">if</span> (window.XMLHttpRequest)&#123;</div><div class="line">// code <span class="keyword">for</span> IE7+, Firefox, Chrome, Opera, Safari</div><div class="line">  xmlhttp=new XMLHttpRequest();</div><div class="line">&#125;<span class="keyword">else</span>&#123;</div><div class="line">// code <span class="keyword">for</span> IE6, IE5</div><div class="line">  xmlhttp=new ActiveXObject(<span class="string">"Microsoft.XMLHTTP"</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="XMLHttpRequest对象用于和服务器交换数据"><a href="#XMLHttpRequest对象用于和服务器交换数据" class="headerlink" title="XMLHttpRequest对象用于和服务器交换数据"></a>XMLHttpRequest对象用于和服务器交换数据</h2><h3 id="XMLHttpRequest对象的方法"><a href="#XMLHttpRequest对象的方法" class="headerlink" title="XMLHttpRequest对象的方法"></a>XMLHttpRequest对象的方法</h3><p>open(method,url,async)</p>
<blockquote>
<p>method：请求的类型；GET 或 POST<br>url：文件在服务器上的位置<br>async：true（异步）或 false（同步）</p>
</blockquote>
<p>POST请求 send(string)<br>GET请求 send()</p>
<p>setRequestHeader(header,value)</p>
<blockquote>
<p>header: 规定头的名称<br>value: 规定头的值</p>
</blockquote>
<h3 id="XMLHttpRequest对象的属性"><a href="#XMLHttpRequest对象的属性" class="headerlink" title="XMLHttpRequest对象的属性"></a>XMLHttpRequest对象的属性</h3><p>onreadystatechange  当 readyState 属性改变时，就会触发该事件</p>
<p>readyState     存有 XMLHttpRequest 的状态。从 0 到 4 发生变化。</p>
<blockquote>
<p>0: 请求未初始化<br>1: 服务器连接已建立<br>2: 请求已接收<br>3: 请求处理中<br>4: 请求已完成，且响应已就绪</p>
</blockquote>
<p>status    </p>
<blockquote>
<p>200: “OK”<br>300~307: 重定向类<br>40X: 请求错误<br>50X: 服务器错误</p>
</blockquote>
<h2 id="服务器响应"><a href="#服务器响应" class="headerlink" title="服务器响应"></a>服务器响应</h2><blockquote>
<p>responseText    获得字符串形式的响应数据。<br>responseXML    获得 XML 形式的响应数据。</p>
</blockquote>
<h2 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h2><h3 id="get请求"><a href="#get请求" class="headerlink" title="get请求"></a>get请求</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">//创建XMLHttpRequest对象</div><div class="line">var xmlHttp = new XMLHttpRequest();</div><div class="line"></div><div class="line">//配置XMLHttpRequest对象</div><div class="line">xmlHttp.open(<span class="string">"get"</span>, <span class="string">"url?key=value"</span>);</div><div class="line"></div><div class="line">//设置回调函数</div><div class="line">xmlHttp.onreadystatechange = <span class="function"><span class="title">function</span></span> () &#123;</div><div class="line">    <span class="keyword">if</span> (xmlHttp.readyState == 4 &amp;&amp; xmlHttp.status == 200) &#123;</div><div class="line">        var result= xmlHttp.responseText;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">//发送请求</div><div class="line">xmlHttp.send(null);</div></pre></td></tr></table></figure>
<h3 id="post请求"><a href="#post请求" class="headerlink" title="post请求"></a>post请求</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">//创建XMLHttpRequest对象</div><div class="line">var xmlHttp = new XMLHttpRequest();</div><div class="line"></div><div class="line">//配置XMLHttpRequest对象</div><div class="line">xmlHttp.open(<span class="string">"post"</span>, <span class="string">"url"</span>, data);</div><div class="line"></div><div class="line">//设置回调函数</div><div class="line">xmlHttp.onreadystatechange = <span class="function"><span class="title">function</span></span> () &#123;</div><div class="line">    <span class="keyword">if</span> (xmlHttp.readyState == 4 &amp;&amp; xmlHttp.status == 200) &#123;</div><div class="line">        var result= xmlHttp.responseText;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">//发送请求</div><div class="line">xmlHttp.send(data);</div></pre></td></tr></table></figure>
<h2 id="ajax简单封装实例"><a href="#ajax简单封装实例" class="headerlink" title="ajax简单封装实例"></a>ajax简单封装实例</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div></pre></td><td class="code"><pre><div class="line">&lt;script <span class="built_in">type</span>=<span class="string">"text/javascript"</span>&gt;</div><div class="line">    <span class="keyword">function</span> ajax(config) &#123;</div><div class="line"></div><div class="line">	  	var xhr = null;</div><div class="line">	  	try&#123;</div><div class="line">			xhr = new XMLHttpRequest();</div><div class="line">	  	&#125;catch(e)&#123;</div><div class="line">			try&#123;</div><div class="line">				xhr = new ActiveXObject(<span class="string">'MSXML2.XMLHttp'</span>);</div><div class="line">			&#125;catch(e)&#123;</div><div class="line">				xhr = new ActiveXObject(<span class="string">'Microsoft.XMLHTTP'</span>);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		var date = new Date();</div><div class="line">	  	config.url = config.url + <span class="string">'?timestamp='</span> + date.getTime();</div><div class="line"></div><div class="line">		<span class="keyword">if</span> (config.method === <span class="string">'get'</span>) &#123;</div><div class="line">			var arr = [];</div><div class="line">			<span class="keyword">for</span> (var i <span class="keyword">in</span> config.data) &#123;</div><div class="line">			    arr.push(encodeURIComponent(i) + <span class="string">'='</span> + encodeURIComponent(config.data[i]));</div><div class="line">		  	&#125;</div><div class="line">		  	config.data = arr.join(<span class="string">'&amp;'</span>)</div><div class="line">		    config.url += config.data; </div><div class="line">		&#125;</div><div class="line"></div><div class="line">		<span class="keyword">if</span> (config.async === <span class="literal">true</span>) &#123; </div><div class="line">		    xhr.onreadystatechange = <span class="function"><span class="title">function</span></span> () &#123;</div><div class="line">		      	<span class="keyword">if</span> (xhr.readyState == 4) &#123;</div><div class="line">		        	callback();</div><div class="line">		      	&#125;</div><div class="line">		    &#125;;</div><div class="line">		&#125;</div><div class="line"></div><div class="line">	  	xhr.open(config.method, config.url, config.async);</div><div class="line"></div><div class="line">		<span class="keyword">if</span> (config.method === <span class="string">'post'</span>) &#123;</div><div class="line">		    xhr.setRequestHeader(<span class="string">'Content-Type'</span>, <span class="string">'application/json'</span>);</div><div class="line">		    xhr.send(JSON.stringify(config.data));</div><div class="line">		&#125; <span class="keyword">else</span> &#123;</div><div class="line">		    xhr.send(null);</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		<span class="keyword">if</span> (config.async === <span class="literal">false</span>) &#123;</div><div class="line">		    callback();</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		<span class="keyword">function</span> <span class="function"><span class="title">callback</span></span>() &#123;</div><div class="line">		    <span class="keyword">if</span> (xhr.status == 200) &#123;</div><div class="line">		      	config.success(xhr.responseText);</div><div class="line">		    &#125; <span class="keyword">else</span> &#123;</div><div class="line">		      	alert(<span class="string">'获取数据错误！错误代号：'</span> + xhr.status + <span class="string">'，错误信息：'</span> + xhr.statusText);</div><div class="line">		    &#125;	</div><div class="line">		&#125;</div><div class="line">	&#125;	</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      数据交互与dom操作并列前端两大基石
    
    </summary>
    
      <category term="前端" scheme="http://106.15.95.246/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="javascript" scheme="http://106.15.95.246/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>meta标签用法总结</title>
    <link href="http://106.15.95.246/2016/06/29/meta%E6%A0%87%E7%AD%BE%E7%94%A8%E6%B3%95%E6%80%BB%E7%BB%93/"/>
    <id>http://106.15.95.246/2016/06/29/meta标签用法总结/</id>
    <published>2016-06-29T09:16:57.000Z</published>
    <updated>2017-07-05T04:40:29.052Z</updated>
    
    <content type="html"><![CDATA[<p><meta>标签提供关于HTML文档的元数据。元数据不会显示在页面上，但是对于机器是可读的。它可用于浏览器（如何显示内容或重新加载页面），搜索引擎（关键词），或其他 web 服务。</p>
<a id="more"></a>
<h5 id="SEO优化"><a href="#SEO优化" class="headerlink" title="SEO优化"></a>SEO优化</h5><pre><code>关键字： 
    &lt;meta name=&quot;keywords&quot; content=&quot;your tags&quot; /&gt;
描述： 
    &lt;meta name=&quot;description&quot; content=&quot;150 words&quot; /&gt;
搜索引擎索引方式：
    &lt;meta name=&quot;robots&quot; content=&quot;index,follow&quot; /&gt;
     &lt;!--
         all：文件将被检索，且页面上的链接可以被查询；
         none：文件将不被检索，且页面上的链接不可以被查询；
         index：文件将被检索；
         follow：页面上的链接可以被查询；
         noindex：文件将不被检索；
         nofollow：页面上的链接不可以被查询。
      --&gt;
页面重定向和刷新：
    &lt;meta http-equiv=&quot;refresh&quot; content=&quot;0;url=&quot; /&gt;
定义网页作者：
    &lt;meta name=&quot;author&quot; content=&quot;author name&quot; /&gt;
</code></pre><h5 id="移动设备"><a href="#移动设备" class="headerlink" title="移动设备"></a>移动设备</h5><pre><code>viewport：
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0,maximum-scale=1.0, user-scalable=no&quot;/&gt;
    &lt;!-- `width=device-width` 会导致 iPhone 5 添加到主屏后以 WebApp 全屏模式打开页面时出现黑边  --&gt;
    width：宽度（数值 / device-width）（范围从200 到10,000，默认为980 像素）
    height：高度（数值 / device-height）（范围从223 到10,000）
    initial-scale：初始的缩放比例 （范围从&gt;0 到10）
    minimum-scale：允许用户缩放到的最小比例
    maximum-scale：允许用户缩放到的最大比例
    user-scalable：用户是否可以手动缩 (no,yes)
WebApp全屏模式：
    伪装app，离线应用   
    &lt;meta name=&quot;apple-mobile-web-app-capable&quot; content=&quot;yes&quot; /&gt; &lt;!-- 启用 WebApp 全屏模式 --&gt;
隐藏状态栏/设置状态栏颜色：
    只有在开启WebApp全屏模式时才生效。
    content的值为default | black | black-translucent 。
    &lt;meta name=&quot;apple-mobile-web-app-status-bar-style&quot; content=&quot;black-translucent&quot; /&gt;
添加到主屏后的标题：
    &lt;meta name=&quot;apple-mobile-web-app-title&quot; content=&quot;标题&quot;&gt;
忽略数字自动识别为电话号码：
    &lt;meta content=&quot;telephone=no&quot; name=&quot;format-detection&quot; /&gt; 
忽略识别邮箱：
    &lt;meta content=&quot;email=no&quot; name=&quot;format-detection&quot; /&gt;
添加智能 App 广告条 Smart App Banner：
    告诉浏览器这个网站对应的app，并在页面上显示下载banner。
    &lt;meta name=&quot;apple-itunes-app&quot; 
    content=&quot;app-id=myAppStoreID, affiliate-data=myAffiliateData, app-argument=myURL&quot;&gt; 
其他：
    &lt;!-- 针对手持设备优化，主要是针对一些老的不识别viewport的浏览器，比如黑莓 --&gt;
    &lt;meta name=&quot;HandheldFriendly&quot; content=&quot;true&quot;&gt;
    &lt;!-- 微软的老式浏览器 --&gt;
    &lt;meta name=&quot;MobileOptimized&quot; content=&quot;320&quot;&gt;
    &lt;!-- uc强制竖屏 --&gt;
    &lt;meta name=&quot;screen-orientation&quot; content=&quot;portrait&quot;&gt;
    &lt;!-- QQ强制竖屏 --&gt;
    &lt;meta name=&quot;x5-orientation&quot; content=&quot;portrait&quot;&gt;
    &lt;!-- UC强制全屏 --&gt;
    &lt;meta name=&quot;full-screen&quot; content=&quot;yes&quot;&gt;
    &lt;!-- QQ强制全屏 --&gt;
    &lt;meta name=&quot;x5-fullscreen&quot; content=&quot;true&quot;&gt;
    &lt;!-- UC应用模式 --&gt;
    &lt;meta name=&quot;browsermode&quot; content=&quot;application&quot;&gt;
    &lt;!-- QQ应用模式 --&gt;
    &lt;meta name=&quot;x5-page-mode&quot; content=&quot;app&quot;&gt;
    &lt;!-- windows phone 点击无高光 --&gt;
    &lt;meta name=&quot;msapplication-tap-highlight&quot; content=&quot;no&quot;&gt;
</code></pre><h5 id="网页相关"><a href="#网页相关" class="headerlink" title="网页相关"></a>网页相关</h5><pre><code>申明编码：
    &lt;meta charset=&apos;utf-8&apos; /&gt;
优先使用 IE 最新版本和 Chrome：
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge,chrome=1&quot; /&gt;
&lt;!-- 关于X-UA-Compatible --&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=6&quot; &gt;&lt;!-- 使用IE6 --&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=7&quot; &gt;&lt;!-- 使用IE7 --&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=8&quot; &gt;&lt;!-- 使用IE8 --&gt;
浏览器内核控制：
    国内浏览器很多都是双内核（webkit和Trident），webkit内核高速浏览，IE内核兼容网页和旧版网站。
    而添加meta标签的网站可以控制浏览器选择何种内核渲染。
    &lt;meta name=&quot;renderer&quot; content=&quot;webkit|ie-comp|ie-stand&quot;&gt;
国内双核浏览器默认内核模式如下：
    1. 搜狗高速浏览器、QQ浏览器：IE内核（兼容模式）
    2. 360极速浏览器、遨游浏览器：Webkit内核（极速模式）

禁止浏览器从本地计算机的缓存中访问页面内容：这样设定，访问者将无法脱机浏览。
    &lt;meta http-equiv=&quot;Pragma&quot; content=&quot;no-cache&quot;&gt;
Windows 8
    &lt;meta name=&quot;msapplication-TileColor&quot; content=&quot;#000&quot;/&gt; &lt;!-- Windows 8 磁贴颜色 --&gt;
    &lt;meta name=&quot;msapplication-TileImage&quot; content=&quot;icon.png&quot;/&gt; &lt;!-- Windows 8 磁贴图标 --&gt;
站点适配：主要用于PC-手机页的对应关系。
    &lt;meta name=&quot;mobile-agent&quot;content=&quot;format=[wml|xhtml|html5]; url=url&quot;&gt;
    &lt;!--
    [wml|xhtml|html5]根据手机页的协议语言，选择其中一种；
    url=&quot;url&quot; 后者代表当前PC页所对应的手机页URL，两者必须是一一对应关系。
    --&gt;
转码申明：用百度打开网页可能会对其进行转码（比如贴广告），避免转码可添加如下meta
    &lt;meta http-equiv=&quot;Cache-Control&quot; content=&quot;no-siteapp&quot; /&gt;
</code></pre>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;meta&gt;标签提供关于HTML文档的元数据。元数据不会显示在页面上，但是对于机器是可读的。它可用于浏览器（如何显示内容或重新加载页面），搜索引擎（关键词），或其他 web 服务。&lt;/p&gt;
    
    </summary>
    
      <category term="前端" scheme="http://106.15.95.246/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="html" scheme="http://106.15.95.246/tags/html/"/>
    
      <category term="meta" scheme="http://106.15.95.246/tags/meta/"/>
    
  </entry>
  
  <entry>
    <title>图片预览及Image对象总结</title>
    <link href="http://106.15.95.246/2016/05/29/%E5%9B%BE%E7%89%87%E9%A2%84%E8%A7%88%E5%8F%8AImage%E5%AF%B9%E8%B1%A1%E6%80%BB%E7%BB%93/"/>
    <id>http://106.15.95.246/2016/05/29/图片预览及Image对象总结/</id>
    <published>2016-05-29T08:32:54.000Z</published>
    <updated>2017-07-05T04:40:41.716Z</updated>
    
    <content type="html"><![CDATA[<p>图片预览简单实现</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">&lt;html&gt;</div><div class="line">&lt;head&gt;</div><div class="line">&lt;meta charset=&quot;utf-8&quot; /&gt;</div><div class="line">&lt;title&gt;图片预览&lt;/title&gt;</div><div class="line">&lt;script&gt;</div><div class="line">function previewFile() &#123;</div><div class="line"> var preview = document.querySelector(&apos;img&apos;);</div><div class="line"> var file  = document.querySelector(&apos;input[type=file]&apos;).files[0];</div><div class="line"> var reader = new FileReader();</div><div class="line"> reader.onloadend = function () &#123;</div><div class="line">  preview.src = reader.result;</div><div class="line"> &#125;</div><div class="line"> if (file) &#123;</div><div class="line">  reader.readAsDataURL(file);</div><div class="line"> &#125; else &#123;</div><div class="line">  preview.src = &quot;&quot;;</div><div class="line"> &#125;</div><div class="line">&#125;</div><div class="line">&lt;/script&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">&lt;input type=&quot;file&quot; onchange=&quot;previewFile()&quot;&gt;&lt;br&gt;</div><div class="line">&lt;img src=&quot;&quot; height=&quot;200&quot; width=&quot;300&quot; alt=&quot;Image preview...&quot;/&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<a id="more"></a>
<p>1、FileReader接口的方法</p>
<p>FileReader接口有4个方法，其中3个用来读取文件，另一个用来中断读取。无论读取成功或失败，方法并不会返回读取结果，这一结果存储在result属性中。</p>
<table>
<thead>
<tr>
<th>方法名</th>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>readAsBinaryString</td>
<td>file</td>
<td>将文件读取为二进制编码</td>
</tr>
<tr>
<td>readAsText</td>
<td>file,[encoding]</td>
<td>将文件读取为文本</td>
</tr>
<tr>
<td>readAsDataURL</td>
<td>file</td>
<td>将文件读取为DataURL</td>
</tr>
<tr>
<td>abort</td>
<td>(none)</td>
<td>终端读取操作</td>
</tr>
</tbody>
</table>
<p>2、FileReader接口事件<br>FileReader接口包含了一套完整的事件模型，用于捕获读取文件时的状态。</p>
<table>
<thead>
<tr>
<th>事件</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>onabort</td>
<td>中断</td>
</tr>
<tr>
<td>onerror</td>
<td>出错</td>
</tr>
<tr>
<td>onloadstart</td>
<td>开始</td>
</tr>
<tr>
<td>onprogress</td>
<td>正在读取</td>
</tr>
<tr>
<td>onload</td>
<td>成功读取</td>
</tr>
<tr>
<td>onloadend</td>
<td>读取完成，无论成功失败</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div></pre></td><td class="code"><pre><div class="line">&lt;script <span class="built_in">type</span>=<span class="string">"text/javascript"</span>&gt;  </div><div class="line">var result=document.getElementById(<span class="string">"result"</span>);  </div><div class="line">var file=document.getElementById(<span class="string">"file"</span>);  </div><div class="line">  </div><div class="line">//判断浏览器是否支持FileReader接口  </div><div class="line"><span class="keyword">if</span>(typeof FileReader == <span class="string">'undefined'</span>)&#123;  </div><div class="line">    result.InnerHTML=<span class="string">"&lt;p&gt;你的浏览器不支持FileReader接口！&lt;/p&gt;"</span>;  </div><div class="line">    //使选择控件不可操作  </div><div class="line">    file.setAttribute(<span class="string">"disabled"</span>,<span class="string">"disabled"</span>);  </div><div class="line">&#125;  </div><div class="line">  </div><div class="line"><span class="keyword">function</span> <span class="function"><span class="title">readAsDataURL</span></span>()&#123;  </div><div class="line">    //检验是否为图像文件  </div><div class="line">    var file = document.getElementById(<span class="string">"file"</span>).files[0];  </div><div class="line">    <span class="keyword">if</span>(!/image\/\w+/.<span class="built_in">test</span>(file.type))&#123;  </div><div class="line">        alert(<span class="string">"看清楚，这个需要图片！"</span>);  </div><div class="line">        <span class="built_in">return</span> <span class="literal">false</span>;  </div><div class="line">    &#125;  </div><div class="line">    var reader = new FileReader();  </div><div class="line">    //将文件以Data URL形式读入页面  </div><div class="line">    reader.readAsDataURL(file);  </div><div class="line">    reader.onload=<span class="keyword">function</span>(e)&#123;  </div><div class="line">        var result=document.getElementById(<span class="string">"result"</span>);  </div><div class="line">        //显示文件  </div><div class="line">        result.innerHTML=<span class="string">'&lt;img src="'</span> + this.result +<span class="string">'" alt="" /&gt;'</span>;  </div><div class="line">    &#125;  </div><div class="line">&#125;  </div><div class="line">  </div><div class="line"><span class="keyword">function</span> <span class="function"><span class="title">readAsBinaryString</span></span>()&#123;  </div><div class="line">    var file = document.getElementById(<span class="string">"file"</span>).files[0];  </div><div class="line">    var reader = new FileReader();  </div><div class="line">    //将文件以二进制形式读入页面  </div><div class="line">    reader.readAsBinaryString(file);  </div><div class="line">    reader.onload=<span class="keyword">function</span>(f)&#123;  </div><div class="line">        var result=document.getElementById(<span class="string">"result"</span>);  </div><div class="line">        //显示文件  </div><div class="line">        result.innerHTML=this.result;  </div><div class="line">    &#125;  </div><div class="line">&#125;  </div><div class="line">  </div><div class="line"><span class="keyword">function</span> <span class="function"><span class="title">readAsText</span></span>()&#123;  </div><div class="line">    var file = document.getElementById(<span class="string">"file"</span>).files[0];  </div><div class="line">    var reader = new FileReader();  </div><div class="line">    //将文件以文本形式读入页面  </div><div class="line">    reader.readAsText(file);  </div><div class="line">    reader.onload=<span class="keyword">function</span>(f)&#123;  </div><div class="line">        var result=document.getElementById(<span class="string">"result"</span>);  </div><div class="line">        //显示文件  </div><div class="line">        result.innerHTML=this.result;  </div><div class="line">    &#125;  </div><div class="line">&#125;  </div><div class="line">&lt;/script&gt;  </div><div class="line">&lt;p&gt;  </div><div class="line">    &lt;label&gt;请选择一个文件：&lt;/label&gt;  </div><div class="line">    &lt;input <span class="built_in">type</span>=<span class="string">"file"</span> id=<span class="string">"file"</span> /&gt;  </div><div class="line">    &lt;input <span class="built_in">type</span>=<span class="string">"button"</span> value=<span class="string">"读取图像"</span> onclick=<span class="string">"readAsDataURL()"</span> /&gt;  </div><div class="line">    &lt;input <span class="built_in">type</span>=<span class="string">"button"</span> value=<span class="string">"读取二进制数据"</span> onclick=<span class="string">"readAsBinaryString()"</span> /&gt;  </div><div class="line">    &lt;input <span class="built_in">type</span>=<span class="string">"button"</span> value=<span class="string">"读取文本文件"</span> onclick=<span class="string">"readAsText()"</span> /&gt;  </div><div class="line">&lt;/p&gt;  </div><div class="line">&lt;div id=<span class="string">"result"</span> name=<span class="string">"result"</span>&gt;&lt;/div&gt;</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;图片预览简单实现&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;html&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;head&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;meta charset=&amp;quot;utf-8&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;title&amp;gt;图片预览&amp;lt;/title&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;script&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;function previewFile() &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; var preview = document.querySelector(&amp;apos;img&amp;apos;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; var file  = document.querySelector(&amp;apos;input[type=file]&amp;apos;).files[0];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; var reader = new FileReader();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; reader.onloadend = function () &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  preview.src = reader.result;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; if (file) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  reader.readAsDataURL(file);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &amp;#125; else &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  preview.src = &amp;quot;&amp;quot;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;/script&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;/head&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;body&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;input type=&amp;quot;file&amp;quot; onchange=&amp;quot;previewFile()&amp;quot;&amp;gt;&amp;lt;br&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;img src=&amp;quot;&amp;quot; height=&amp;quot;200&amp;quot; width=&amp;quot;300&amp;quot; alt=&amp;quot;Image preview...&amp;quot;/&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;/body&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;/html&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="前端" scheme="http://106.15.95.246/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="html" scheme="http://106.15.95.246/tags/html/"/>
    
      <category term="javascript" scheme="http://106.15.95.246/tags/javascript/"/>
    
  </entry>
  
</feed>
